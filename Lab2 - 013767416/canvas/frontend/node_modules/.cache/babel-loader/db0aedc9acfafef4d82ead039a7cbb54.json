{"ast":null,"code":"import _defineProperty from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab2 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab2 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab2 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab2 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab2 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab2 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab2 - 013767416/canvas/frontend/src/components/CourseDetails/Quiz/Quiz.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Search from '../../Search';\nimport Button from 'react-bootstrap/Button';\nimport ShowQuiz from './ShowQuiz';\nimport QuizTabs from './QuizTabs';\nimport Grid from '@material-ui/core/Grid';\nimport MiniDrawer from '../../Layout/MiniDrawer';\nimport Sidebar from '../../Layout/Sidebar';\nimport Appbar from '../../Layout/Appbar';\nimport MenuList from '../../Layout/MenuList';\nimport { Container, Row, Col } from 'reactstrap';\nimport Add from \"@material-ui/icons/Add\";\nimport { Redirect } from 'react-router';\nimport { connect } from 'react-redux';\n\nvar axios = require('axios');\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      width: '100%',\n      maxWidth: '1000px',\n      backgroundColor: theme.palette.background.paper\n    },\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    textField: {\n      marginLeft: theme.spacing.unit,\n      marginRight: theme.spacing.unit\n    },\n    dense: {\n      marginTop: 16\n    },\n    menu: {\n      width: 200\n    }\n  };\n};\n\nvar Quiz =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Quiz, _Component);\n\n  function Quiz(props) {\n    var _this;\n\n    _classCallCheck(this, Quiz);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Quiz).call(this, props));\n\n    _this.toggleComponent = function (event) {\n      _this.setState(function (state) {\n        return {\n          show: !state.show\n        };\n      });\n\n      event.preventDefault();\n      var courseId = {\n        courseid: localStorage.getItem(\"courseid\")\n      };\n      axios.defaults.withCredentials = true;\n      axios.post('/quiz/', courseId).then(function (res) {\n        console.log(res.status);\n\n        if (res.status === 201) {\n          _this.setState({\n            quizId: res.data,\n            createSuccess: 'success'\n          });\n        }\n      });\n    };\n\n    _this.state = _defineProperty({\n      quizDetail: [],\n      show: false,\n      quizId: '',\n      createSuccess: '',\n      role: '',\n      course: ''\n    }, \"course\", []);\n    return _this;\n  }\n\n  _createClass(Quiz, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var coursearray = this.props.courseStore.result;\n\n      if (coursearray) {\n        var courseid = localStorage.getItem(\"courseid\");\n        var coursedetail = coursearray.filter(function (course) {\n          return course._id === courseid;\n        });\n        this.setState({\n          course: coursedetail[0]\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var show = this.state.show.show;\n      var redirectVar = null;\n      if (!this.props.loginstatus.loginstatus) redirectVar = React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, redirectVar, React.createElement(Appbar, {\n        name: this.state.course.Name,\n        dept: this.state.course.Dept,\n        nickname: this.state.course.Nickname,\n        term: this.state.course.Term,\n        tag: \"Quiz\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 0.5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(MiniDrawer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 1.5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(MenuList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"  \", !show && React.createElement(Search, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \" \", !show && localStorage.getItem(\"role\") === 'Teacher' && React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.toggleComponent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"   \", React.createElement(Add, {\n        style: {\n          fill: '#EFF1F2'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), \"Quiz\"))))), React.createElement(\"div\", {\n        className: \"border mt-5 search-container\",\n        style: {\n          marginLeft: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, this.state.show && React.createElement(QuizTabs, {\n        courseid: localStorage.getItem(\"courseid\"),\n        quizid: this.state.quizId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), !this.state.show && React.createElement(ShowQuiz, {\n        courseid: localStorage.getItem(\"courseid\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }))))), React.createElement(Grid, {\n        item: true,\n        xs: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Sidebar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Quiz;\n}(Component);\n\nQuiz.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    courseStore: state.courses,\n    loginstatus: state.loginstatus\n  };\n}\n\nexport default connect(mapStateToProps, {})(withStyles(styles)(Quiz)); //","map":{"version":3,"sources":["/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab2 - 013767416/canvas/frontend/src/components/CourseDetails/Quiz/Quiz.js"],"names":["React","Component","PropTypes","withStyles","Search","Button","ShowQuiz","QuizTabs","Grid","MiniDrawer","Sidebar","Appbar","MenuList","Container","Row","Col","Add","Redirect","connect","axios","require","styles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","container","display","flexWrap","textField","marginLeft","spacing","unit","marginRight","dense","marginTop","menu","Quiz","props","toggleComponent","event","setState","state","show","preventDefault","courseId","courseid","localStorage","getItem","defaults","withCredentials","post","then","res","console","log","status","quizId","data","createSuccess","quizDetail","role","course","coursearray","courseStore","result","coursedetail","filter","_id","redirectVar","loginstatus","Name","Dept","Nickname","Term","fill","propTypes","classes","object","isRequired","mapStateToProps","courses"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Search from '../../Search';\r\nimport Button from 'react-bootstrap/Button'\r\nimport ShowQuiz from './ShowQuiz';\r\nimport QuizTabs from './QuizTabs';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MiniDrawer from '../../Layout/MiniDrawer';\r\nimport Sidebar from '../../Layout/Sidebar';\r\nimport Appbar from '../../Layout/Appbar';\r\nimport MenuList from '../../Layout/MenuList';\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport Add from \"@material-ui/icons/Add\";\r\nimport {Redirect} from 'react-router';\r\nimport { connect } from 'react-redux';\r\nconst axios = require('axios');\r\nconst styles = theme => ({\r\n    root: {\r\n      width: '100%',\r\n      maxWidth: '1000px',\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n      },\r\n      textField: {\r\n        marginLeft: theme.spacing.unit,\r\n        marginRight: theme.spacing.unit,\r\n      },\r\n      dense: {\r\n        marginTop: 16,\r\n      },\r\n      menu: {\r\n        width: 200,\r\n      },\r\n  });\r\n\r\nclass Quiz extends Component \r\n{\r\n  constructor(props)\r\n  {\r\n      super(props);\r\n      this.state = {\r\n        quizDetail : [],\r\n        show: false,\r\n        quizId :'',\r\n        createSuccess:'',\r\n        role:'',\r\n        course:'',\r\n        course:[],\r\n      }\r\n  }\r\n  componentDidMount()\r\n  { \r\n    var coursearray = this.props.courseStore.result;\r\n    if(coursearray)\r\n    {\r\n      var courseid = localStorage.getItem(\"courseid\");\r\n      let coursedetail = coursearray.filter(course => {\r\n        return course._id === courseid });\r\n      this.setState({course:coursedetail[0]});\r\n    }\r\n  }\r\n  toggleComponent = (event) => \r\n  {\r\n    this.setState(state => ({\r\n      show: !state.show\r\n    }));\r\n    event.preventDefault();\r\n    const courseId ={\r\n      courseid : localStorage.getItem(\"courseid\")\r\n    }\r\n    \r\n    axios.defaults.withCredentials = true;\r\n    axios.post('/quiz/', courseId)\r\n      .then(res=>{\r\n        console.log(res.status);\r\n        if(res.status === 201)\r\n        {\r\n            this.setState ( { quizId: res.data, createSuccess:'success',});\r\n        }\r\n      });\r\n  };\r\n  render() {\r\n    const { show } = this.state.show;\r\n    let redirectVar = null;\r\n    if(!this.props.loginstatus.loginstatus) \r\n      redirectVar = <Redirect to= \"/login\"/>\r\n      return (\r\n          <div>{redirectVar}\r\n            <Appbar name={this.state.course.Name}  dept={this.state.course.Dept}  nickname={this.state.course.Nickname}  term={this.state.course.Term}\r\n            tag=\"Quiz\" />\r\n            <Grid container>   \r\n              <Grid item xs={0.5}>\r\n                <MiniDrawer/>\r\n              </Grid>  \r\n              <Grid item xs={1.5}><br/>\r\n                <MenuList />\r\n              </Grid>                  \r\n            <Grid item xs={8}>\r\n            <br/>\r\n            <div >\r\n           <br/><br/><br/>\r\n            <div >\r\n              <Container>\r\n              <Row>\r\n              <Col>  {!show &&<Search/>}</Col>\r\n              <Col></Col>\r\n              <Col></Col>\r\n              <Col></Col>\r\n              <Col> {!show && localStorage.getItem(\"role\")==='Teacher' && <Button variant=\"primary\"  onClick={this.toggleComponent}>   <Add style={{ fill: '#EFF1F2' }}/>Quiz</Button>}</Col>\r\n              </Row>\r\n              </Container>       \r\n            </div>\r\n            <div className=\"border mt-5 search-container\"  style= {{marginLeft:20}}> \r\n              <div >\r\n                {this.state.show && <QuizTabs courseid = {localStorage.getItem(\"courseid\")} quizid = {this.state.quizId}/>}\r\n                {!this.state.show && <ShowQuiz courseid = {localStorage.getItem(\"courseid\")}/>}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          </Grid>\r\n           <Grid item xs={1}>\r\n           <Sidebar/>\r\n           </Grid>\r\n         </Grid>\r\n       </div>\r\n      );\r\n  }\r\n}\r\n\r\nQuiz.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n  };\r\n  \r\n\r\n  function mapStateToProps(state) {\r\n    return { \r\n      courseStore: state.courses ,\r\n      loginstatus: state.loginstatus};\r\n  }\r\n        \r\n  export default connect(mapStateToProps,{ })( withStyles(styles)(Quiz));\r\n  // \r\n  \r\n  \r\n  \r\n\r\n"]},"metadata":{},"sourceType":"module"}