{"ast":null,"code":"import _classCallCheck from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/src/components/CourseDetails/Assignment/Submitassign.js\";\nimport React, { Component } from 'react';\nimport \"react-web-tabs/dist/react-web-tabs.css\";\nimport Button from 'react-bootstrap/Button';\nimport { Container, Row, Col } from 'reactstrap';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\n\nvar axios = require('axios');\n\nvar Submitassign =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Submitassign, _Component);\n\n  function Submitassign(props) {\n    var _this;\n\n    _classCallCheck(this, Submitassign);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Submitassign).call(this, props));\n\n    _this.fileChangedHandler = function (event) {\n      _this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.props.cancelSubmit();\n    };\n\n    _this.uploadHandler = function () {\n      var formData = new FormData();\n      formData.append('myFile', _this.state.selectedFile, _this.state.selectedFile.name);\n      formData.append('courseid', _this.props.courseid);\n      formData.append('assignmentid', _this.props.assignmentid);\n      axios.post('/assignment/submit', formData).then(function (res) {\n        console.log(res.status);\n\n        if (res.status === 200) {\n          _this.setState({\n            files: res.data\n          });\n\n          _this.props.cancelSubmit();\n        }\n      });\n    };\n\n    _this.state = {\n      show: false,\n      count: 0,\n      role: localStorage.getItem(\"role\"),\n      selectedFile: null\n    };\n    return _this;\n  } //this.handleSubmit = this.handleSubmit.bind(this);\n\n\n  _createClass(Submitassign, [{\n    key: \"render\",\n    value: function render() {\n      var redirectVar = null;\n      if (!cookie.load('cookie')) redirectVar = React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        className: \"border mt-5 search-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \" \", redirectVar, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \" \", React.createElement(\"input\", {\n        type: \"file\",\n        onChange: this.fileChangedHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \" \", React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"  \", this.state.role === 'Student' && React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.uploadHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Submit\"), \"\\xA0 \\xA0 \\xA0\", this.state.role === 'Student' && React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Cancel\")))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Submitassign;\n}(Component);\n\nexport default Submitassign;","map":{"version":3,"sources":["/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/src/components/CourseDetails/Assignment/Submitassign.js"],"names":["React","Component","Button","Container","Row","Col","cookie","Redirect","axios","require","Submitassign","props","fileChangedHandler","event","setState","selectedFile","target","files","handleClose","cancelSubmit","uploadHandler","formData","FormData","append","state","name","courseid","assignmentid","post","then","res","console","log","status","data","show","count","role","localStorage","getItem","redirectVar","load"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport \"react-web-tabs/dist/react-web-tabs.css\";\r\nimport Button from 'react-bootstrap/Button'\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport cookie from 'react-cookies';\r\nimport {Redirect} from 'react-router';\r\n\r\nconst axios = require('axios');\r\nclass Submitassign extends Component \r\n{\r\n      constructor(props)\r\n      {\r\n        super(props);\r\n        this.state = {\r\n          show: false,\r\n          count: 0,\r\n          role:localStorage.getItem(\"role\"),\r\n          selectedFile: null,\r\n        };\r\n      }\r\n      //this.handleSubmit = this.handleSubmit.bind(this);\r\n      fileChangedHandler = event => {\r\n        this.setState({ selectedFile: event.target.files[0] })\r\n      }\r\n\r\n      handleClose =() =>\r\n      {\r\n        this.props.cancelSubmit();\r\n      }\r\n      uploadHandler = () => \r\n      {\r\n        const formData = new FormData();\r\n        formData.append(\r\n          'myFile',\r\n          this.state.selectedFile,\r\n          this.state.selectedFile.name,\r\n        );\r\n        formData.append('courseid', this.props.courseid);\r\n        formData.append('assignmentid', this.props.assignmentid);\r\n          \r\n        axios.post('/assignment/submit', formData).\r\n        then(res=>{\r\n          console.log(res.status);\r\n          if(res.status === 200)\r\n          {\r\n            this.setState({files: res.data});\r\n            this.props.cancelSubmit();\r\n          }\r\n        });\r\n      }\r\n    \r\n      \r\n    \r\n\r\n\r\n\r\n  render() {\r\n    let redirectVar = null;\r\n    if(!cookie.load('cookie'))\r\n        redirectVar = <Redirect to= \"/login\"/>\r\n    return (\r\n      <div className=\"border mt-5 search-container\"> {redirectVar}\r\n          <br/>\r\n          <Container>\r\n          <Row>\r\n            <Col> <input type=\"file\" onChange={this.fileChangedHandler}/></Col>\r\n          </Row>\r\n          <br/>\r\n          <Row> <Col>  { this.state.role==='Student' && <Button  variant=\"primary\" onClick={this.uploadHandler}>Submit</Button> }\r\n          &nbsp; &nbsp; &nbsp;{ this.state.role==='Student' && <Button  variant=\"primary\" onClick={this.handleClose}>Cancel</Button> }\r\n          </Col></Row>\r\n          </Container>\r\n      <br/> \r\n\r\n\r\n\r\n      </div>\r\n      );    \r\n    }\r\n  \r\n}\r\n\r\nexport default Submitassign;\r\n"]},"metadata":{},"sourceType":"module"}