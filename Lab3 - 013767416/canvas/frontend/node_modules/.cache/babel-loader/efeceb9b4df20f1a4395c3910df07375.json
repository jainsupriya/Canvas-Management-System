{"ast":null,"code":"import _classCallCheck from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _objectSpread from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/src/components/CourseDetails/Announcement/ShowAnnouncement.js\";\nimport React, { Component } from 'react';\nimport Parser from 'html-react-parser';\nimport './showannouncement.css';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Moment from 'react-moment';\nimport LongMenu from '../../Layout/LongMenu';\nimport { Container, Row, Col } from 'reactstrap';\nimport ViewAnnouncement from './ViewAnnouncement';\nimport Avatar from '@material-ui/core/Avatar';\nimport { avtar } from './avtar.png';\nimport { getAnnouncements } from \"../../../actions\";\nimport { connect } from 'react-redux';\n\nvar axios = require('axios');\n\nvar styles = function styles(theme) {\n  return {\n    root: _objectSpread({}, theme.mixins.gutters(), {\n      paddingTop: theme.spacing.unit * 1.5,\n      paddingBottom: theme.spacing.unit * 1.5\n    }),\n    avatar: {\n      margin: 10\n    }\n  };\n};\n\nvar ShowAnnouncement =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ShowAnnouncement, _Component);\n\n  function ShowAnnouncement(props) {\n    var _this;\n\n    _classCallCheck(this, ShowAnnouncement);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ShowAnnouncement).call(this, props));\n\n    _this.openAnnouncement = function (id) {\n      _this.setState({\n        open: true,\n        announcementid: id\n      });\n    };\n\n    _this.state = {\n      announcement: [],\n      open: false,\n      announcementid: ''\n    };\n    _this.openAnnouncement = _this.openAnnouncement.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ShowAnnouncement, [{\n    key: \"handleDelete\",\n    value: function handleDelete(announcementid) {\n      console.log(announcementid);\n    }\n  }, {\n    key: \"handleEdit\",\n    value: function handleEdit(announcementid) {\n      console.log(announcementid);\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(id) {\n      var _this2 = this;\n\n      axios.defaults.withCredentials = true;\n      var aid = {\n        announcementid: id\n      };\n      axios.post('/deleteAnnouncement', aid).then(function (res) {\n        if (res.status === 200) {\n          var tempann = _this2.state.announcement.filter(function (announcement) {\n            return announcement.announcementid !== id;\n          });\n\n          _this2.setState({\n            announcement: tempann\n          });\n        }\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.props.getAnnouncements();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.announcements) {\n        console.log(nextProps.announcements.announcements);\n        this.setState({\n          announcement: nextProps.announcements.announcements\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var classes = this.props.classes;\n      var pipe = \" | \";\n      var data = this.state.announcement.map(function (ann, key) {\n        return React.createElement(Paper, {\n          className: classes.root,\n          elevation: 0,\n          key: key,\n          style: {\n            border: '1px solid gray'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(Container, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(Col, {\n          sm: \"1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, \" \", React.createElement(Avatar, {\n          src: avtar,\n          className: classes.avatar,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }), \"  \"), React.createElement(Col, {\n          sm: \"9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          style: {\n            color: \"#094D98\"\n          },\n          onClick: function onClick() {\n            return _this3.openAnnouncement(ann._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, ann.Title, \" \"))), React.createElement(Typography, {\n          variant: \"subtitle2\",\n          style: {\n            width: 500,\n            overflow: \"hidden\",\n            overflowWrap: \"ellipsis\",\n            whiteSpace: \"nowrap\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, Parser(ann.Content)), React.createElement(Typography, {\n          component: \"p\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, \"Posted on \", React.createElement(Moment, {\n          format: \"ll\",\n          date: new Date(ann.createdAt),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }), \" at  \", React.createElement(Moment, {\n          format: \"LT\",\n          date: new Date(ann.createdAt),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }))), React.createElement(Col, {\n          sm: \"2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, localStorage.getItem(\"role\") === 'Teacher' && React.createElement(LongMenu, {\n          delete: function _delete() {\n            return _this3.handleDelete(ann._id);\n          },\n          edit: function edit() {\n            return _this3.handleEdit(ann._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        })))));\n      });\n      if (this.state.open) return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(ViewAnnouncement, {\n        courseid: this.props.courseid,\n        announcementid: this.state.announcementid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), \" \");else {\n        return React.createElement(\"div\", {\n          className: \"center-align container mt-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"item-group-container\",\n          \"data-view\": \"assignmentGroups\",\n          id: \"ag-list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"collectionViewItems ig-list ui-sortable\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, data, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }))));\n      }\n    }\n  }]);\n\n  return ShowAnnouncement;\n}(Component);\n\nShowAnnouncement.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    announcements: state.announcements\n  };\n}\n\nexport default connect(mapStateToProps, {\n  getAnnouncements: getAnnouncements\n})(withStyles(styles)(ShowAnnouncement));","map":{"version":3,"sources":["/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/src/components/CourseDetails/Announcement/ShowAnnouncement.js"],"names":["React","Component","Parser","withStyles","PropTypes","Paper","Typography","Moment","LongMenu","Container","Row","Col","ViewAnnouncement","Avatar","avtar","getAnnouncements","connect","axios","require","styles","theme","root","mixins","gutters","paddingTop","spacing","unit","paddingBottom","avatar","margin","ShowAnnouncement","props","openAnnouncement","id","setState","open","announcementid","state","announcement","bind","console","log","defaults","withCredentials","aid","post","then","res","status","tempann","filter","nextProps","announcements","classes","pipe","data","map","ann","key","border","color","_id","Title","width","overflow","overflowWrap","whiteSpace","Content","Date","createdAt","localStorage","getItem","handleDelete","handleEdit","courseid","propTypes","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Parser from 'html-react-parser';\r\nimport './showannouncement.css';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Moment from 'react-moment';\r\nimport LongMenu from '../../Layout/LongMenu';\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport ViewAnnouncement from './ViewAnnouncement';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport {avtar} from './avtar.png'\r\nimport { getAnnouncements } from \"../../../actions\";\r\nimport { connect } from 'react-redux';\r\n\r\nconst axios = require('axios');\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    ...theme.mixins.gutters(),\r\n    paddingTop: theme.spacing.unit * 1.5,\r\n    paddingBottom: theme.spacing.unit * 1.5,\r\n  },\r\n  avatar: {\r\n    margin: 10,\r\n  },\r\n});\r\nclass ShowAnnouncement extends Component \r\n{\r\n  constructor(props)\r\n  {\r\n      super(props);\r\n      this.state = {\r\n        announcement : [],\r\n        open :false,\r\n        announcementid:''\r\n      }\r\n      this.openAnnouncement = this.openAnnouncement.bind(this);    \r\n  }\r\n  handleDelete(announcementid){\r\n    console.log(announcementid);\r\n  }\r\n  handleEdit(announcementid){\r\n    console.log(announcementid);\r\n  }\r\n  handleDelete(id){\r\n    axios.defaults.withCredentials = true;\r\n    const aid ={\r\n      announcementid : id\r\n    }\r\n    axios.post('/deleteAnnouncement', aid ).then(\r\n      res => {\r\n        if(res.status ===200)\r\n           {\r\n            let tempann = this.state.announcement.filter(announcement => {\r\n            return announcement.announcementid !== id });\r\n            this.setState({announcement:tempann});\r\n           }\r\n      }\r\n    )\r\n  }\r\n  componentWillMount()\r\n  { \r\n    this.props.getAnnouncements();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n  \r\n    if (nextProps.announcements) {\r\n      console.log( nextProps.announcements.announcements);\r\n        this.setState({\r\n          announcement: nextProps.announcements.announcements\r\n        });\r\n    }  \r\n  }\r\n  openAnnouncement = (id) => {\r\n    this.setState({ open: true ,announcementid:id});  \r\n  };\r\n  render() {\r\n    const { classes } = this.props;\r\n    var pipe = \" | \"\r\n\r\n    var data = this.state.announcement.map((ann, key) => {         \r\n      return (       \r\n      <Paper className={classes.root} elevation={0} key = {key} style={{ border: '1px solid gray'}} >\r\n      <Container>\r\n      <Row>\r\n      <Col sm='1'> <Avatar src={avtar} className={classes.avatar} />  </Col>\r\n      <Col sm='9'>     \r\n      <Typography variant=\"subtitle1\" component=\"p\"><b><a  style={{color: \"#094D98\"}} onClick={() => this.openAnnouncement(ann._id)}>{ann.Title} </a></b></Typography>\r\n      <Typography variant=\"subtitle2\"\r\n      style ={{ width: 500 , overflow: \"hidden\", overflowWrap: \"ellipsis\" , whiteSpace : \"nowrap\"}}>{Parser(ann.Content)}</Typography>\r\n      <Typography component=\"p\">\r\n      Posted on <Moment format=\"ll\" date={new Date(ann.createdAt)}/> at  <Moment format=\"LT\" date={new Date(ann.createdAt)} />\r\n      </Typography>        \r\n      </Col>\r\n      <Col sm='2'>{localStorage.getItem(\"role\")==='Teacher' && <LongMenu delete={() =>this.handleDelete(ann._id)} edit={() =>this.handleEdit(ann._id)}/>}</Col>\r\n      </Row>\r\n      </Container> \r\n      </Paper>\r\n      )  \r\n    }) \r\n      if(this.state.open)\r\n      return( \r\n        <div><ViewAnnouncement courseid = {this.props.courseid} announcementid = {this.state.announcementid}/> </div>\r\n      )\r\n      else{\r\n        return (    \r\n          <div className=\"center-align container mt-5\">\r\n            <div className =\"item-group-container\" data-view=\"assignmentGroups\" id=\"ag-list\"> \r\n              <div className =\"collectionViewItems ig-list ui-sortable\">\r\n                {data}\r\n              <br/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n  }\r\n}\r\nShowAnnouncement.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return { announcements: state.announcements };\r\n}\r\n      \r\nexport default connect(mapStateToProps,{ getAnnouncements })(withStyles(styles)(ShowAnnouncement));"]},"metadata":{},"sourceType":"module"}