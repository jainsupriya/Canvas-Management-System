{"ast":null,"code":"import _defineProperty from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/src/components/CourseDetails/Assignment/OpenSubmisseionFile.js\";\nimport React, { Component } from 'react';\nimport { Document, Page } from 'react-pdf';\nimport { pdfjs } from 'react-pdf';\nimport { Container, Row, Col } from 'reactstrap';\nimport Button from 'react-bootstrap/Button';\n\nvar axios = require('axios');\n\npdfjs.GlobalWorkerOptions.workerSrc = \"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjs.version, \"/pdf.worker.js\");\n\nvar OpenSubmissionFile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(OpenSubmissionFile, _Component);\n\n  function OpenSubmissionFile(props) {\n    var _this;\n\n    _classCallCheck(this, OpenSubmissionFile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(OpenSubmissionFile).call(this, props));\n\n    _this.onDocumentLoadSuccess = function (_ref) {\n      var numPages = _ref.numPages;\n\n      _this.setState({\n        numPages: numPages\n      });\n    };\n\n    _this.state = {\n      numPages: null,\n      pageNumber: 1,\n      marks: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submitMarks = _this.submitMarks.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(OpenSubmissionFile, [{\n    key: \"submitMarks\",\n    value: function submitMarks() {\n      console.log(this.props.userid);\n      console.log(this.state.marks);\n      var gradeDetails = {\n        assignmentid: this.props.assignmentid,\n        studentid: this.props.userid,\n        points: this.state.marks\n      };\n      this.props.closeFile();\n      axios.defaults.withCredentials = true;\n      axios.post('/submission/gradeSubmission', gradeDetails).then(function (res) {\n        console.log(res.status);\n\n        if (res.status === 200) {\n          console.log(res.data);\n        }\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          pageNumber = _this$state.pageNumber,\n          numPages = _this$state.numPages;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Out Of \", this.props.points, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"marks\",\n        value: this.state.marks,\n        onChange: this.handleChange,\n        className: \"form-control form-control-lg\",\n        style: {\n          height: 30,\n          width: 60\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.submitMarks,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Submit\"), \" \"), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }))), React.createElement(Document, {\n        file: this.props.fileToOpen,\n        onLoadSuccess: this.onDocumentLoadSuccess,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Page, {\n        pageNumber: pageNumber,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Page \", pageNumber, \" of \", numPages));\n    }\n  }]);\n\n  return OpenSubmissionFile;\n}(Component);\n\n;\nexport default OpenSubmissionFile;","map":{"version":3,"sources":["/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/src/components/CourseDetails/Assignment/OpenSubmisseionFile.js"],"names":["React","Component","Document","Page","pdfjs","Container","Row","Col","Button","axios","require","GlobalWorkerOptions","workerSrc","version","OpenSubmissionFile","props","onDocumentLoadSuccess","numPages","setState","state","pageNumber","marks","handleChange","bind","submitMarks","console","log","userid","gradeDetails","assignmentid","studentid","points","closeFile","defaults","withCredentials","post","then","res","status","data","event","target","name","value","height","width","fileToOpen"],"mappings":"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","sourcesContent":["\r\n\r\nimport React,{Component} from 'react'\r\nimport {Document, Page} from 'react-pdf';\r\nimport {pdfjs} from 'react-pdf';\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport Button from 'react-bootstrap/Button'\r\nconst axios = require('axios');\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\nclass OpenSubmissionFile extends Component{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state={\r\n            numPages: null,\r\n            pageNumber: 1,\r\n            marks:''\r\n        }\r\n        this.handleChange= this.handleChange.bind(this);\r\n        this.submitMarks=this.submitMarks.bind(this)\r\n    }\r\n    onDocumentLoadSuccess = ({ numPages }) => {\r\n        this.setState({ numPages });\r\n    }\r\n    submitMarks() {\r\n       console.log(this.props.userid);\r\n       console.log(this.state.marks);\r\n       const gradeDetails ={\r\n        assignmentid : this.props.assignmentid,\r\n        studentid : this.props.userid,\r\n        points:this.state.marks, \r\n       }\r\n       this.props.closeFile();\r\n      axios.defaults.withCredentials = true;\r\n       axios.post('/submission/gradeSubmission',  gradeDetails).\r\n         then(res=>{\r\n           console.log(res.status);\r\n           if(res.status === 200)\r\n           {\r\n              console.log(res.data)\r\n           }\r\n         });\r\n      }\r\n    handleChange(event)\r\n    {\r\n      const {name, value} = event.target;\r\n      this.setState({ [name]: value });\r\n    }\r\n    render()\r\n    {\r\n        const { pageNumber, numPages } = this.state;\r\n        return(\r\n        <div > \r\n        <br/><br/> \r\n        <Container>\r\n        <Row>\r\n        <Col>Out Of {this.props.points}\r\n             <input type=\"text\" name=\"marks\" value={this.state.marks} onChange={this.handleChange} className=\"form-control form-control-lg\" \r\n                  style={{height:30 , width:60}} /></Col> \r\n        <Col><Button  variant=\"primary\"  onClick ={this.submitMarks}>Submit</Button> </Col> \r\n        <Col></Col>\r\n        </Row>\r\n        </Container>\r\n\r\n\r\n        <Document\r\n        file= {this.props.fileToOpen}  onLoadSuccess={this.onDocumentLoadSuccess} >\r\n          <Page pageNumber={pageNumber} />\r\n        </Document>\r\n        <p>Page {pageNumber} of {numPages}</p>\r\n    \r\n        </div>\r\n\r\n        )\r\n    }\r\n};\r\n\r\nexport default OpenSubmissionFile;"]},"metadata":{},"sourceType":"module"}