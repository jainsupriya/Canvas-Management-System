{"ast":null,"code":"import _defineProperty from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/src/components/Courses/SearchCourses.js\";\nimport React, { Component } from 'react';\nimport './courses.css';\nimport { Table } from 'reactstrap';\nimport { Container, Row, Col } from 'reactstrap';\n\nvar axios = require('axios');\n\nvar SearchCourses =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchCourses, _Component);\n\n  function SearchCourses(props) {\n    var _this;\n\n    _classCallCheck(this, SearchCourses);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchCourses).call(this, props));\n    _this.state = {\n      value: '>=',\n      cnumber: '',\n      cname: '',\n      cterm: '',\n      cdept: '',\n      role: '',\n      enroll: false,\n      courses: [],\n      msg: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleOptionChange = _this.handleOptionChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEnroll = _this.handleEnroll.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SearchCourses, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"handleOptionChange\",\n    value: function handleOptionChange(event) {\n      this.setState({\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      var searchCriteria = {\n        value: this.state.value,\n        cnumber: this.state.cnumber,\n        cname: this.state.cname,\n        cterm: this.state.cterm,\n        cdept: this.state.cdept\n      };\n      axios.defaults.withCredentials = true;\n      axios.post('/course/search', searchCriteria).then(function (res) {\n        if (res.status === 200) {\n          _this2.setState({\n            value: '',\n            cnumber: '',\n            cname: '',\n            cterm: '',\n            role: '',\n            enroll: true,\n            courses: res.data\n          });\n        }\n\n        if (!res.data) {\n          _this2.setState({\n            msg: 'No result found matching to search criteria. Please modify your search'\n          });\n        }\n      });\n    }\n  }, {\n    key: \"handleEnroll\",\n    value: function handleEnroll(cid) {\n      var _this3 = this;\n\n      axios.defaults.withCredentials = true;\n      var c_id = {\n        courseid: cid\n      };\n      var course = this.state.courses.filter(function (course) {\n        return course._id === cid;\n      });\n      course = course[0];\n      console.log(course);\n      this.props.add({\n        \"_id\": course._id,\n        \"Nickname\": course.Nickname,\n        \"Name\": course.Name,\n        \"Dept\": course.Dept,\n        \"Term\": course.Term,\n        \"Published\": course.Published\n      });\n      axios.post('/course/enroll', c_id).then(function (res) {\n        if (res.status === 200) {\n          _this3.setState({\n            value: '',\n            cnumber: '',\n            cname: '',\n            cterm: '',\n            role: '',\n            enroll: false,\n            courses: res.data\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      if (this.state.enroll) {\n        var data = Array.from(this.state.courses).map(function (course, key) {\n          var status = course.Status;\n          return React.createElement(\"tr\", {\n            key: key,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          }, course.Dept, course.Nickname, \" - \", course.Name), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, course.Room), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, course.createdBy), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }, course.Status), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }, \" \", React.createElement(\"button\", {\n            type: \"button\",\n            className: \"btn btn-primary btn-block\",\n            onClick: function onClick() {\n              return _this4.handleEnroll(course._id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }, status === 'Available' ? 'Enroll' : 'Add to Waitlist')));\n        });\n        return React.createElement(\"div\", {\n          style: {\n            marginLeft: 30\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(Table, {\n          striped: true,\n          bordered: true,\n          hover: true,\n          size: \"sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, \"Course\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, \"Room\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, \"Instructor\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, \"Status\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, data)));\n      } else if (!this.state.enroll) {\n        return React.createElement(\"div\", {\n          className: \"border mt-5 search-container\",\n          style: {\n            marginLeft: 30\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          onSubmit: this.handleSubmit,\n          method: \"post\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }), React.createElement(Container, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, \" \", React.createElement(\"lable\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, \" Course Dept \")), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          name: \"cdept\",\n          className: \"form-control\",\n          placeholder: \"Course Dept\",\n          required: \"required\",\n          value: this.state.dept,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        })), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }), \" \", React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        })), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, \" \", React.createElement(\"lable\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, \" Course Number \")), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(\"select\", {\n          value: this.state.value,\n          onChange: this.handleOptionChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          value: \"$gte\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, \"Greater than or equal to\"), React.createElement(\"option\", {\n          value: \"=\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, \"Equal to\"), React.createElement(\"option\", {\n          value: \"$lte\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, \"Less than or equal to\"))), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          name: \"cnumber\",\n          className: \"form-control\",\n          placeholder: \"Course Number\",\n          required: \"required\",\n          value: this.state.cnumber,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        })), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        })), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, \" \", React.createElement(\"lable\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, \" Course Name \")), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          name: \"cname\",\n          className: \"form-control\",\n          placeholder: \"Course Name\",\n          value: this.state.cname,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        })), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }), \" \", React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        })), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, \" \", React.createElement(\"lable\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, \" Course Term \")), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          name: \"cterm\",\n          className: \"form-control\",\n          placeholder: \"Course Term\",\n          value: this.state.cterm,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        })), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }), \" \", React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        })), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          class: \"btn btn-primary btn-block\",\n          type: \"reset\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, \"Clear\")), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary btn-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, \"Submit\")), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          class: \"btn btn-primary btn-block\",\n          type: \"reset\",\n          onClick: this.props.handleShow,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, \"Back\")), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }), \" \", React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }))), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        })));\n      }\n    }\n  }]);\n\n  return SearchCourses;\n}(Component);\n\nexport default SearchCourses;","map":{"version":3,"sources":["/Users/supriyajain/Desktop/273/canvas/tmp_CMPE273-SP19-18/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/src/components/Courses/SearchCourses.js"],"names":["React","Component","Table","Container","Row","Col","axios","require","SearchCourses","props","state","value","cnumber","cname","cterm","cdept","role","enroll","courses","msg","handleChange","bind","handleSubmit","handleOptionChange","handleEnroll","event","target","name","setState","preventDefault","searchCriteria","defaults","withCredentials","post","then","res","status","data","cid","c_id","courseid","course","filter","_id","console","log","add","Nickname","Name","Dept","Term","Published","Array","from","map","key","Status","Room","createdBy","marginLeft","dept","handleShow"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './courses.css';\r\nimport { Table } from 'reactstrap';\r\nimport { Container, Row, Col } from 'reactstrap';\r\n\r\nconst axios = require('axios');\r\n\r\nclass SearchCourses extends Component \r\n{\r\n  constructor(props)\r\n  {\r\n  super(props);\r\n\r\n\r\n    this.state = {\r\n        value :'>=',\r\n        cnumber:'',\r\n        cname:'',\r\n        cterm:'',\r\n        cdept:'',\r\n        role:'',\r\n        enroll:false,\r\n        courses : [],\r\n        msg :''\r\n      };\r\n      this.handleChange = this.handleChange.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n      this.handleOptionChange=this.handleOptionChange.bind(this);\r\n      this.handleEnroll = this.handleEnroll.bind(this);\r\n    }\r\n\r\n    handleChange(event)\r\n    {\r\n      const {name, value} = event.target;\r\n      this.setState({ [name]: value });\r\n    }\r\n    handleOptionChange(event) {\r\n        this.setState({value: event.target.value});\r\n    }    \r\n    handleSubmit(event)\r\n    {\r\n      event.preventDefault();\r\n      const searchCriteria ={\r\n        value :this.state.value,\r\n        cnumber:this.state.cnumber,\r\n        cname:this.state.cname,\r\n        cterm:this.state.cterm,\r\n        cdept: this.state.cdept,\r\n      }\r\n  \r\n      axios.defaults.withCredentials = true;\r\n      axios.post('/course/search', searchCriteria)\r\n        .then(res=>{\r\n          if(res.status === 200)\r\n          {\r\n             this.setState ( {\r\n                value :'',\r\n                cnumber:'',\r\n                cname:'',\r\n                cterm:'',\r\n                role:'',\r\n                enroll:true,\r\n                courses:res.data,\r\n            });\r\n          }\r\n          if(!res.data)\r\n          {\r\n            this.setState({msg:'No result found matching to search criteria. Please modify your search'})\r\n          }\r\n        });\r\n    }\r\n    handleEnroll(cid){\r\n        axios.defaults.withCredentials = true;\r\n        const c_id ={\r\n                courseid : cid\r\n        }\r\n        let course = this.state.courses.filter(course => {\r\n          return course._id === cid });\r\n          course= course[0];\r\n          console.log(course)\r\n          this.props.add({\"_id\": course._id ,\"Nickname\":course.Nickname, \"Name\": course.Name, \"Dept\":course.Dept, \"Term\": course.Term , \"Published\": course.Published});\r\n        axios.post('/course/enroll', c_id)\r\n          .then(res=>{\r\n            if(res.status === 200)\r\n            {\r\n               this.setState ( {\r\n                  value :'',\r\n                  cnumber:'',\r\n                  cname:'',\r\n                  cterm:'',\r\n                  role:'',\r\n                  enroll:false,\r\n                  courses:res.data\r\n              });\r\n              \r\n            }\r\n            \r\n          });       \r\n    }\r\n\r\n  render() {\r\n\r\n    if(this.state.enroll)\r\n    {  \r\n        var data =  Array.from(this.state.courses).map((course, key) => {\r\n          var status = course.Status\r\n            return (\r\n              <tr key = {key} >   \r\n               <td >{course.Dept}{course.Nickname} - {course.Name}</td>                \r\n              <td >{course.Room}</td>\r\n              <td>{course.createdBy}</td>\r\n              <td>{course.Status}</td>\r\n              <td> <button type=\"button\" className=\"btn btn-primary btn-block\" onClick={() =>this.handleEnroll(course._id)}>{status==='Available'? 'Enroll' : 'Add to Waitlist'}</button></td>\r\n              </tr>\r\n            )\r\n        });   \r\n        return(\r\n            <div  style={{marginLeft:30}} > \r\n            <Table striped bordered hover size=\"sm\">\r\n            <thead>\r\n                <tr>\r\n                <th>Course</th>\r\n                <th>Room</th>\r\n                <th>Instructor</th>\r\n                <th>Status</th>\r\n                <th></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {data}\r\n            </tbody>\r\n            </Table>\r\n            </div>\r\n        );\r\n    }\r\n    else if(!this.state.enroll)\r\n    {\r\n        return (\r\n            <div className=\"border mt-5 search-container\" style={{marginLeft:30}}> \r\n            <form onSubmit={this.handleSubmit} method=\"post\">\r\n            <br/>\r\n                <Container>\r\n                        <Row>\r\n                            <Col> <lable> Course Dept </lable></Col>\r\n                            <Col><input type=\"text\" name=\"cdept\" className=\"form-control\" placeholder=\"Course Dept\" required=\"required\" value={this.state.dept} onChange={this.handleChange} /></Col>\r\n                            <Col></Col><Col></Col><Col></Col> <Col></Col>\r\n                        </Row><br/>                      \r\n                        <Row>\r\n                            <Col> <lable> Course Number </lable></Col>\r\n                            <Col>\r\n                            <select value={this.state.value} onChange={this.handleOptionChange}>\r\n                                <option value=\"$gte\">Greater than or equal to</option>\r\n                                <option value=\"=\">Equal to</option>\r\n                                <option value=\"$lte\">Less than or equal to</option>\r\n                            </select>\r\n                            </Col>\r\n                            <Col><input type=\"text\" name=\"cnumber\" className=\"form-control\" placeholder=\"Course Number\" required=\"required\" value={this.state.cnumber} onChange={this.handleChange} /></Col>\r\n                            <Col></Col>\r\n                            <Col></Col>\r\n                            <Col></Col>  \r\n                        </Row><br/>                    \r\n                        <Row>\r\n                            <Col> <lable> Course Name </lable></Col>\r\n                            <Col><input type=\"text\" name=\"cname\" className=\"form-control\" placeholder=\"Course Name\"  value={this.state.cname} onChange={this.handleChange} /></Col>\r\n                            <Col></Col><Col></Col><Col></Col> <Col></Col>\r\n                        </Row><br/>\r\n                        <Row>\r\n                            <Col> <lable> Course Term </lable></Col>\r\n                            <Col><input type=\"text\" name=\"cterm\" className=\"form-control\" placeholder=\"Course Term\" value={this.state.cterm} onChange={this.handleChange} /></Col>\r\n                            <Col></Col><Col></Col><Col></Col> <Col></Col>\r\n                        </Row><br/>\r\n                        <Row>\r\n                            <Col><button class=\"btn btn-primary btn-block\" type=\"reset\">Clear</button></Col>\r\n                            <Col><button type=\"submit\" className=\"btn btn-primary btn-block\">Submit</button></Col>\r\n                            <Col><button class=\"btn btn-primary btn-block\" type=\"reset\" onClick={this.props.handleShow}>Back</button></Col><Col></Col><Col></Col> <Col></Col>\r\n                        </Row>\r\n                        \r\n                </Container>           \r\n            <br/> \r\n            </form>\r\n            </div>\r\n            \r\n        );\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport default SearchCourses;"]},"metadata":{},"sourceType":"module"}