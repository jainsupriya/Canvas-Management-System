{"ast":null,"code":"import _defineProperty from \"/Users/supriyajain/Desktop/273/Github/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/supriyajain/Desktop/273/Github/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/supriyajain/Desktop/273/Github/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/supriyajain/Desktop/273/Github/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/supriyajain/Desktop/273/Github/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/supriyajain/Desktop/273/Github/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/supriyajain/Desktop/273/Github/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/src/components/People/People.js\";\nimport React, { Component } from 'react';\nimport \"react-web-tabs/dist/react-web-tabs.css\";\nimport Search from '../Search';\nimport { Container, Row, Col } from 'reactstrap';\nimport { Table } from 'reactstrap';\nimport Grid from '@material-ui/core/Grid';\nimport MiniDrawer from '../Layout/MiniDrawer';\nimport Sidebar from '../Layout/Sidebar';\nimport Appbar from '../Layout/Appbar';\nimport MenuList from '../Layout/MenuList';\nimport LongMenu from '../Layout/LongMenu';\nimport { Link } from 'react-router-dom';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\nimport { connect } from 'react-redux';\nimport TablePaginationActions from '../../TablePaginationActions';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TableRow from '@material-ui/core/TableRow';\nimport { withStyles } from '@material-ui/core/styles';\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      width: '100%',\n      marginTop: theme.spacing.unit * 3\n    },\n    table: {\n      minWidth: 500\n    },\n    tableWrapper: {\n      overflowX: 'auto'\n    }\n  };\n};\n\nvar axios = require('axios');\n\nvar People =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(People, _Component);\n\n  function People(props) {\n    var _this$state;\n\n    var _this;\n\n    _classCallCheck(this, People);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(People).call(this, props));\n\n    _this.removeStudent = function (id) {\n      axios.defaults.withCredentials = true;\n      var data = {\n        courseid: localStorage.getItem(\"courseid\"),\n        studentid: id\n      };\n      axios.post('/dropcourse', data).then(function (res) {\n        if (res.status === 200) {\n          var student = _this.state.people.filter(function (student) {\n            return student.userid !== id;\n          });\n\n          _this.setState({\n            people: student\n          });\n        }\n      });\n    };\n\n    _this.handleChangePage = function (event, page) {\n      _this.setState({\n        page: page\n      });\n    };\n\n    _this.handleChangeRowsPerPage = function (event) {\n      _this.setState({\n        page: 0,\n        rowsPerPage: event.target.value\n      });\n    };\n\n    _this.state = (_this$state = {\n      people: [],\n      course: []\n    }, _defineProperty(_this$state, \"course\", ''), _defineProperty(_this$state, \"page\", 0), _defineProperty(_this$state, \"rowsPerPage\", 5), _this$state);\n    return _this;\n  }\n\n  _createClass(People, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      axios.defaults.withCredentials = true;\n      var courseid = localStorage.getItem(\"courseid\");\n      axios.get('/users/people/', {\n        params: {\n          id: courseid\n        }\n      }).then(function (res) {\n        if (res.status === 200) _this2.setState({\n          people: res.data\n        });\n      });\n\n      if (coursearray) {\n        var coursearray = this.props.courseStore.result;\n        var courseid = localStorage.getItem(\"courseid\");\n        var coursedetail = coursearray.filter(function (course) {\n          return course._id === courseid;\n        });\n        this.setState({\n          course: coursedetail[0]\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          rowsPerPage = _this$state2.rowsPerPage,\n          page = _this$state2.page;\n      var classes = this.props.classes;\n      var emptyRows = rowsPerPage - Math.min(rowsPerPage, this.state.people.length - page * rowsPerPage);\n      var colon = ':';\n      var redirectVar = null;\n      if (!cookie.load('cookie')) redirectVar = React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, redirectVar, React.createElement(Appbar, {\n        name: this.state.course.Name,\n        dept: this.state.course.Dept,\n        nickname: this.state.course.Nickname,\n        term: this.state.course.Term,\n        tag: \"People\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 0.5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(MiniDrawer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 1.5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(MenuList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Search, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      })), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: classes.table,\n        style: {\n          marginLeft: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, this.state.people.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(function (user) {\n        return React.createElement(TableRow, {\n          key: user._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/people/\" + user._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, user.Name)), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, user.Email), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, user.Role), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, _this3.state.course.Dept, _this3.state.course.Nickname), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, React.createElement(LongMenu, {\n          delete: function _delete() {\n            return _this3.handleDelete(user._id);\n          },\n          edit: function edit() {\n            return _this3.handleEdit(user._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        })));\n      }), emptyRows > 0 && React.createElement(TableRow, {\n        style: {\n          height: 48 * emptyRows\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        colSpan: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }))), React.createElement(TableFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(TablePagination, {\n        rowsPerPageOptions: [5, 10, 25],\n        colSpan: 3,\n        count: this.state.people.length,\n        rowsPerPage: rowsPerPage,\n        page: page,\n        SelectProps: {\n          native: true\n        },\n        onChangePage: this.handleChangePage,\n        onChangeRowsPerPage: this.handleChangeRowsPerPage,\n        ActionsComponent: TablePaginationActions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      })))))), React.createElement(Grid, {\n        item: true,\n        xs: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(Sidebar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return People;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    courseStore: state.courses\n  };\n} //export default connect(mapStateToProps,{ })(People);\n\n\nexport default connect(mapStateToProps, {})(withStyles(styles)(People));","map":{"version":3,"sources":["/Users/supriyajain/Desktop/273/Github/CMPE273-SP19-18/Lab3 - 013767416/canvas/frontend/src/components/People/People.js"],"names":["React","Component","Search","Container","Row","Col","Table","Grid","MiniDrawer","Sidebar","Appbar","MenuList","LongMenu","Link","cookie","Redirect","connect","TablePaginationActions","TablePagination","TableBody","TableCell","TableFooter","TableRow","withStyles","styles","theme","root","width","marginTop","spacing","unit","table","minWidth","tableWrapper","overflowX","axios","require","People","props","removeStudent","id","defaults","withCredentials","data","courseid","localStorage","getItem","studentid","post","then","res","status","student","state","people","filter","userid","setState","handleChangePage","event","page","handleChangeRowsPerPage","rowsPerPage","target","value","course","get","params","coursearray","courseStore","result","coursedetail","_id","classes","emptyRows","Math","min","length","colon","redirectVar","load","Name","Dept","Nickname","Term","marginLeft","slice","map","user","Email","Role","handleDelete","handleEdit","height","native","mapStateToProps","courses"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport \"react-web-tabs/dist/react-web-tabs.css\";\r\nimport Search from '../Search';\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport { Table } from 'reactstrap';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MiniDrawer from '../Layout/MiniDrawer';\r\nimport Sidebar from '../Layout/Sidebar';\r\nimport Appbar from '../Layout/Appbar'\r\nimport MenuList from '../Layout/MenuList';\r\nimport LongMenu from '../Layout/LongMenu';\r\nimport {Link} from 'react-router-dom';\r\nimport cookie from 'react-cookies';\r\nimport {Redirect} from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport TablePaginationActions  from '../../TablePaginationActions';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableFooter from '@material-ui/core/TableFooter';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: theme.spacing.unit * 3,\r\n  },\r\n  table: {\r\n    minWidth: 500,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n  },\r\n});\r\n\r\n\r\nconst axios = require('axios');\r\nclass People extends Component \r\n{\r\n    constructor(props)\r\n    {\r\n      super(props);\r\n      this.state = {\r\n        people:[],\r\n        course:[],\r\n        course:'',\r\n        page: 0,\r\n        rowsPerPage: 5,\r\n      };\r\n    }\r\n      componentWillMount()\r\n      {\r\n        \r\n        axios.defaults.withCredentials = true;\r\n        var courseid =  localStorage.getItem(\"courseid\")\r\n  \r\n        axios.get('/users/people/',  {params : {id : courseid}} ).then(\r\n          res => {\r\n            if(res.status ===200)\r\n                this.setState({people: res.data});\r\n          }\r\n        )        \r\n        if(coursearray)\r\n        {\r\n          var coursearray = this.props.courseStore.result;\r\n          var courseid = localStorage.getItem(\"courseid\");\r\n          let coursedetail = coursearray.filter(course => {\r\n            return course._id === courseid });\r\n          this.setState({course:coursedetail[0]});\r\n        }\r\n      }\r\n      removeStudent = (id) => {\r\n        axios.defaults.withCredentials = true;\r\n        const data ={\r\n            courseid : localStorage.getItem(\"courseid\"),\r\n            studentid :id\r\n            }        \r\n        axios.post('/dropcourse', data).then(\r\n          res => {\r\n            if(res.status ===200)\r\n            {\r\n                let student = this.state.people.filter(student => {\r\n                return student.userid !== id });\r\n                this.setState({ people:student});\r\n            }\r\n          }\r\n        )\r\n\r\n     };\r\n     handleChangePage = (event, page) => {\r\n      this.setState({ page });\r\n    };\r\n\r\n    handleChangeRowsPerPage = event => {\r\n      this.setState({ page: 0, rowsPerPage: event.target.value });\r\n    };\r\n\r\n  render() {\r\n    const {  rowsPerPage, page } = this.state;\r\n    const { classes } = this.props;\r\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, this.state.people.length - page * rowsPerPage);\r\n    var colon =':';\r\n    let redirectVar = null;\r\n    if(!cookie.load('cookie'))\r\n        redirectVar = <Redirect to= \"/login\"/>\r\n        return (\r\n\r\n          <div>{redirectVar}\r\n          <Appbar name={this.state.course.Name}  dept={this.state.course.Dept}  nickname={this.state.course.Nickname}  term={this.state.course.Term}\r\n          tag=\"People\" />\r\n          <Grid container>   \r\n            <Grid item xs={0.5}>\r\n              <MiniDrawer/>\r\n            </Grid>  \r\n            <Grid item xs={1.5}><br/>\r\n              <MenuList />\r\n            </Grid>                  \r\n          <Grid item xs={8}>\r\n          <div >\r\n           <br/><br/><br/><br/>\r\n            <Container>\r\n            <Row>\r\n            <Col><Search/></Col>\r\n            <Col></Col>\r\n            <Col></Col>\r\n            <Col></Col>\r\n            </Row>\r\n            </Container>         \r\n            </div>\r\n          <div>\r\n          <Table className={classes.table} style={{marginLeft:20}}>\r\n                    <TableBody>\r\n                      {this.state.people.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(user => (\r\n                        <TableRow key={user._id}>\r\n                          <TableCell component=\"th\" scope=\"row\">\r\n                          <Link to={\"/people/\"+user._id}>{user.Name}</Link>\r\n                          </TableCell>\r\n                          <TableCell align=\"right\">{user.Email}</TableCell>\r\n                          <TableCell align=\"right\">{user.Role}</TableCell>\r\n                          <TableCell align=\"right\">{this.state.course.Dept}{this.state.course.Nickname}</TableCell>\r\n                          <TableCell align=\"right\"><LongMenu delete={() =>this.handleDelete(user._id)} edit={() =>this.handleEdit(user._id)}/></TableCell>\r\n                        </TableRow>\r\n                      ))}\r\n                      {emptyRows > 0 && (\r\n                        <TableRow style={{ height: 48 * emptyRows }}>\r\n                          <TableCell colSpan={6} />\r\n                        </TableRow>\r\n                      )}\r\n                    </TableBody>\r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TablePagination\r\n                          rowsPerPageOptions={[5, 10, 25]}\r\n                          colSpan={3}\r\n                          count={this.state.people.length}\r\n                          rowsPerPage={rowsPerPage}\r\n                          page={page}\r\n                          SelectProps={{\r\n                            native: true,\r\n                          }}\r\n                          onChangePage={this.handleChangePage}\r\n                          onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n                          ActionsComponent={TablePaginationActions}\r\n                        />\r\n                      </TableRow>\r\n                    </TableFooter>\r\n                  </Table>  \r\n              </div>\r\n              </Grid>\r\n              <Grid item xs={1}>\r\n               <Sidebar/>\r\n               </Grid>\r\n          </Grid>\r\n          </div>\r\n        );\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  return { courseStore: state.courses };\r\n}\r\n\r\n//export default connect(mapStateToProps,{ })(People);\r\n\r\nexport default connect(mapStateToProps,{})( withStyles(styles)(People));\r\n\r\n"]},"metadata":{},"sourceType":"module"}