{"ast":null,"code":"import _classCallCheck from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/src/components/People/People.js\";\nimport React, { Component } from 'react';\nimport \"react-web-tabs/dist/react-web-tabs.css\";\nimport Button from 'react-bootstrap/Button';\nimport Search from '../Search';\nimport { Container, Row, Col } from 'reactstrap';\nimport { Table } from 'reactstrap';\nimport Grid from '@material-ui/core/Grid';\nimport MiniDrawer from '../Layout/MiniDrawer';\nimport Sidebar from '../Layout/Sidebar';\nimport Appbar from '../Layout/Appbar';\nimport MenuList from '../Layout/MenuList';\nimport LongMenu from '../Layout/LongMenu';\nimport { Link } from 'react-router-dom';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\n\nvar axios = require('axios');\n\nvar People =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(People, _Component);\n\n  function People(props) {\n    var _this;\n\n    _classCallCheck(this, People);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(People).call(this, props));\n\n    _this.removeStudent = function (id) {\n      axios.defaults.withCredentials = true;\n      var data = {\n        courseid: localStorage.getItem(\"courseid\"),\n        studentid: id\n      };\n      axios.post('/dropcourse', data).then(function (res) {\n        if (res.status === 200) {\n          var student = _this.state.people.filter(function (student) {\n            return student.userid !== id;\n          });\n\n          _this.setState({\n            people: student\n          });\n        }\n      });\n    };\n\n    _this.state = {\n      show: false,\n      count: 0,\n      people: [],\n      sid: '',\n      file: '',\n      term: '',\n      name: '',\n      nickname: '',\n      dept: ''\n    };\n    return _this;\n  }\n\n  _createClass(People, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      axios.defaults.withCredentials = true;\n      var id = {\n        courseid: localStorage.getItem(\"courseid\")\n      };\n      axios.post('/people', id).then(function (res) {\n        if (res.status === 200) _this2.setState({\n          people: res.data\n        });\n      });\n      axios.get('/coursedetails', {\n        params: {\n          id: localStorage.getItem(\"courseid\")\n        }\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this2.setState({\n            name: res.data.name,\n            term: res.data.term,\n            nickname: res.data.nickname,\n            dept: res.data.dept\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var show = this.state.show;\n      var redirectVar = null;\n      if (!cookie.load('cookie')) redirectVar = React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      });\n      var data = Array.from(this.state.people).map(function (user, key) {\n        console.log(user.userid);\n        return React.createElement(\"tr\", {\n          key: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \" \", React.createElement(Link, {\n          to: \"/people/\" + user.userid,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, user.name)), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, user.email), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, user.role), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, _this3.state.dept, _this3.state.nickname), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, localStorage.getItem(\"role\") === 'Teacher' && React.createElement(LongMenu, {\n          delete: function _delete() {\n            return _this3.removeStudent(user.userid);\n          },\n          edit: function edit() {\n            return _this3.handleEdit(user.userid);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }), \" \"));\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, redirectVar, React.createElement(Appbar, {\n        name: this.state.name,\n        dept: this.state.dept,\n        nickname: this.state.nickname,\n        term: this.state.term,\n        tag: \"People\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 0.5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(MiniDrawer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 1.5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(MenuList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Search, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Table, {\n        size: \"sm\",\n        style: {\n          marginLeft: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"th\", {\n        scope: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Login Id\"), React.createElement(\"th\", {\n        scope: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Enrolled As\"), React.createElement(\"th\", {\n        scope: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Section\"), React.createElement(\"th\", {\n        scope: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, data, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })))))), React.createElement(Grid, {\n        item: true,\n        xs: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(Sidebar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return People;\n}(Component);\n\nexport default People;","map":{"version":3,"sources":["/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/src/components/People/People.js"],"names":["React","Component","Button","Search","Container","Row","Col","Table","Grid","MiniDrawer","Sidebar","Appbar","MenuList","LongMenu","Link","cookie","Redirect","axios","require","People","props","removeStudent","id","defaults","withCredentials","data","courseid","localStorage","getItem","studentid","post","then","res","status","student","state","people","filter","userid","setState","show","count","sid","file","term","name","nickname","dept","get","params","redirectVar","load","Array","from","map","user","key","console","log","email","role","handleEdit","marginLeft"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,wCAAP;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,QAAoC,YAApC;AACA,SAASC,KAAT,QAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,SAAQC,QAAR,QAAuB,cAAvB;;AACA,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;IACMC,M;;;;;AAEF,kBAAYC,KAAZ,EACA;AAAA;;AAAA;;AACE,gFAAMA,KAAN;;AADF,UA2CEC,aA3CF,GA2CkB,UAACC,EAAD,EAAQ;AACtBL,MAAAA,KAAK,CAACM,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACA,UAAMC,IAAI,GAAE;AACRC,QAAAA,QAAQ,EAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CADH;AAERC,QAAAA,SAAS,EAAEP;AAFH,OAAZ;AAIAL,MAAAA,KAAK,CAACa,IAAN,CAAW,aAAX,EAA0BL,IAA1B,EAAgCM,IAAhC,CACE,UAAAC,GAAG,EAAI;AACL,YAAGA,GAAG,CAACC,MAAJ,KAAc,GAAjB,EACA;AACI,cAAIC,OAAO,GAAG,MAAKC,KAAL,CAAWC,MAAX,CAAkBC,MAAlB,CAAyB,UAAAH,OAAO,EAAI;AAClD,mBAAOA,OAAO,CAACI,MAAR,KAAmBhB,EAA1B;AAA8B,WADhB,CAAd;;AAEA,gBAAKiB,QAAL,CAAc;AAAEH,YAAAA,MAAM,EAACF;AAAT,WAAd;AACH;AACF,OARH;AAWF,KA5DF;;AAEE,UAAKC,KAAL,GAAa;AACXK,MAAAA,IAAI,EAAE,KADK;AAEXC,MAAAA,KAAK,EAAE,CAFI;AAGXL,MAAAA,MAAM,EAAC,EAHI;AAIXM,MAAAA,GAAG,EAAC,EAJO;AAKXC,MAAAA,IAAI,EAAC,EALM;AAMXC,MAAAA,IAAI,EAAC,EANM;AAOXC,MAAAA,IAAI,EAAC,EAPM;AAQXC,MAAAA,QAAQ,EAAC,EARE;AASXC,MAAAA,IAAI,EAAC;AATM,KAAb;AAFF;AAaC;;;;yCAEC;AAAA;;AAEE9B,MAAAA,KAAK,CAACM,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACA,UAAMF,EAAE,GAAE;AACNI,QAAAA,QAAQ,EAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB;AADL,OAAV;AAGAX,MAAAA,KAAK,CAACa,IAAN,CAAW,SAAX,EAAsBR,EAAtB,EAA0BS,IAA1B,CACE,UAAAC,GAAG,EAAI;AACL,YAAGA,GAAG,CAACC,MAAJ,KAAc,GAAjB,EACI,MAAI,CAACM,QAAL,CAAc;AAACH,UAAAA,MAAM,EAAEJ,GAAG,CAACP;AAAb,SAAd;AACL,OAJH;AAOAR,MAAAA,KAAK,CAAC+B,GAAN,CAAU,gBAAV,EAA4B;AAACC,QAAAA,MAAM,EAAG;AAAC3B,UAAAA,EAAE,EAAEK,YAAY,CAACC,OAAb,CAAqB,UAArB;AAAL;AAAV,OAA5B,EAAiFG,IAAjF,CACE,UAAAC,GAAG,EAAI;AACL,YAAGA,GAAG,CAACC,MAAJ,KAAc,GAAjB,EACA;AACI,UAAA,MAAI,CAACM,QAAL,CACE;AACEM,YAAAA,IAAI,EAACb,GAAG,CAACP,IAAJ,CAASoB,IADhB;AAEED,YAAAA,IAAI,EAACZ,GAAG,CAACP,IAAJ,CAASmB,IAFhB;AAGEE,YAAAA,QAAQ,EAACd,GAAG,CAACP,IAAJ,CAASqB,QAHpB;AAIEC,YAAAA,IAAI,EAACf,GAAG,CAACP,IAAJ,CAASsB;AAJhB,WADF;AAOH;AACF,OAZH;AAcD;;;6BAmBI;AAAA;;AAAA,UACCP,IADD,GACU,KAAKL,KADf,CACCK,IADD;AAEP,UAAIU,WAAW,GAAG,IAAlB;AACA,UAAG,CAACnC,MAAM,CAACoC,IAAP,CAAY,QAAZ,CAAJ,EACID,WAAW,GAAG,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAE,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAd;AAEE,UAAIzB,IAAI,GAAI2B,KAAK,CAACC,IAAN,CAAW,KAAKlB,KAAL,CAAWC,MAAtB,EAA8BkB,GAA9B,CAAkC,UAACC,IAAD,EAAOC,GAAP,EAAe;AAC3DC,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACjB,MAAjB;AACA,eACE;AAAI,UAAA,GAAG,EAAIkB,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAM,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAE,aAAWD,IAAI,CAACjB,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmCiB,IAAI,CAACV,IAAxC,CAAN,CADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKU,IAAI,CAACI,KAAV,CAFA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKJ,IAAI,CAACK,IAAV,CAHA,EAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAK,MAAI,CAACzB,KAAL,CAAWY,IAAhB,EAAsB,MAAI,CAACZ,KAAL,CAAWW,QAAjC,CAJA,EAKF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKnB,YAAY,CAACC,OAAb,CAAqB,MAArB,MAA+B,SAA/B,IAA4C,oBAAC,QAAD;AAAU,UAAA,MAAM,EAAE;AAAA,mBAAK,MAAI,CAACP,aAAL,CAAmBkC,IAAI,CAACjB,MAAxB,CAAL;AAAA,WAAlB;AAAwD,UAAA,IAAI,EAAE;AAAA,mBAAK,MAAI,CAACuB,UAAL,CAAgBN,IAAI,CAACjB,MAArB,CAAL;AAAA,WAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAjD,MALE,CADF;AASH,OAXa,CAAZ;AAYF,aAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMY,WAAN,EACA,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAE,KAAKf,KAAL,CAAWU,IAAzB;AAAgC,QAAA,IAAI,EAAE,KAAKV,KAAL,CAAWY,IAAjD;AAAwD,QAAA,QAAQ,EAAE,KAAKZ,KAAL,CAAWW,QAA7E;AAAwF,QAAA,IAAI,EAAE,KAAKX,KAAL,CAAWS,IAAzG;AACA,QAAA,GAAG,EAAC,QADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAGA,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApB,EACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAJF,EAOA,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADN,EACW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADX,EACgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADhB,EAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAL,CADA,EAEA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,EAGA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHA,EAIA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJA,CADA,CAFF,CADA,EAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,IAAZ;AAAkB,QAAA,KAAK,EAAG;AAACkB,UAAAA,UAAU,EAAC;AAAZ,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAI,QAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,EAEA;AAAI,QAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFA,EAGA;AAAI,QAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHA,EAIA;AAAI,QAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJA,EAKA;AAAI,QAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALA,CADJ,CADD,EAUC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKrC,IADL,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAJ,EAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAb,EAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAtB,EAA+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA/B,EAAwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAxC,CAFJ,CAVD,CADL,CAZA,CAPA,EAqCI,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CArCJ,CAHA,CAFF;AAgDL;;;;EAlIkBxB,S;;AAqIrB,eAAekB,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport \"react-web-tabs/dist/react-web-tabs.css\";\nimport Button from 'react-bootstrap/Button'\nimport Search from '../Search';\nimport { Container, Row, Col } from 'reactstrap';\nimport { Table } from 'reactstrap';\nimport Grid from '@material-ui/core/Grid';\nimport MiniDrawer from '../Layout/MiniDrawer';\nimport Sidebar from '../Layout/Sidebar';\nimport Appbar from '../Layout/Appbar'\nimport MenuList from '../Layout/MenuList';\nimport LongMenu from '../Layout/LongMenu';\nimport {Link} from 'react-router-dom';\nimport cookie from 'react-cookies';\nimport {Redirect} from 'react-router';\nconst axios = require('axios');\nclass People extends Component \n{\n    constructor(props)\n    {\n      super(props);\n      this.state = {\n        show: false,\n        count: 0,\n        people:[],\n        sid:'',\n        file:'',\n        term:'',\n        name:'',\n        nickname:'',\n        dept:''\n      };\n    }\n      componentWillMount()\n      {\n        \n        axios.defaults.withCredentials = true;\n        const id ={\n            courseid : localStorage.getItem(\"courseid\")\n            }        \n        axios.post('/people', id).then(\n          res => {\n            if(res.status ===200)\n                this.setState({people: res.data});\n          }\n        )\n\n        axios.get('/coursedetails', {params : {id :localStorage.getItem(\"courseid\")}}  ).then(\n          res => {\n            if(res.status ===200)\n            {\n                this.setState(\n                  {\n                    name:res.data.name,\n                    term:res.data.term,\n                    nickname:res.data.nickname,\n                    dept:res.data.dept\n                  });     \n            }    \n          }\n        )\n      }\n      removeStudent = (id) => {\n        axios.defaults.withCredentials = true;\n        const data ={\n            courseid : localStorage.getItem(\"courseid\"),\n            studentid :id\n            }        \n        axios.post('/dropcourse', data).then(\n          res => {\n            if(res.status ===200)\n            {\n                let student = this.state.people.filter(student => {\n                return student.userid !== id });\n                this.setState({ people:student});\n            }\n          }\n        )\n\n     };\n  render() {\n    const { show } = this.state;\n    let redirectVar = null;\n    if(!cookie.load('cookie'))\n        redirectVar = <Redirect to= \"/login\"/>\n\n          var data =  Array.from(this.state.people).map((user, key) => {\n            console.log(user.userid)\n            return (\n              <tr key = {key} >                   \n              <td > <Link to={\"/people/\"+user.userid}>{user.name}</Link></td>\n              <td>{user.email}</td>\n              <td>{user.role}</td>\n              <td>{this.state.dept}{this.state.nickname}</td>\n            <td>{localStorage.getItem(\"role\")==='Teacher' && <LongMenu delete={() =>this.removeStudent(user.userid)} edit={() =>this.handleEdit(user.userid)}/>} </td>\n              </tr>\n            )\n        });\n        return (\n\n          <div>{redirectVar}\n          <Appbar name={this.state.name}  dept={this.state.dept}  nickname={this.state.nickname}  term={this.state.term}\n          tag=\"People\" />\n          <Grid container>   \n            <Grid item xs={0.5}>\n              <MiniDrawer/>\n            </Grid>  \n            <Grid item xs={1.5}><br/>\n              <MenuList />\n            </Grid>                  \n          <Grid item xs={8}>\n          <div >\n           <br/><br/><br/><br/>\n            <Container>\n            <Row>\n            <Col><Search/></Col>\n            <Col></Col>\n            <Col></Col>\n            <Col></Col>\n            </Row>\n            </Container>         \n            </div>\n          <div>\n               <Table size=\"sm\"  style= {{marginLeft:20}}>\n                <thead>\n                    <tr>\n                    <th scope=\"row\">Name</th>\n                    <th scope=\"row\">Login Id</th>\n                    <th scope=\"row\">Enrolled As</th>\n                    <th scope=\"row\">Section</th>\n                    <th scope=\"row\"></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {data}\n                    <tr><td></td><td></td><td></td><td></td><td></td></tr>\n                </tbody>\n                </Table>     \n              </div>\n              </Grid>\n              <Grid item xs={1}>\n               <Sidebar/>\n               </Grid>\n          </Grid>\n          </div>\n        );\n  }\n}\n\nexport default People;\n"]},"metadata":{},"sourceType":"module"}