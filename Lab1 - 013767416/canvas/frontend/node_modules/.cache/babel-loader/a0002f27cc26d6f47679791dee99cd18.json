{"ast":null,"code":"import _defineProperty from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/src/components/Profile/profile.js\";\nimport React, { Component } from 'react';\nimport { Col, Image, Container, Row } from 'react-bootstrap';\nimport Avatar from 'react-avatar';\nimport Button from 'react-bootstrap/Button';\nimport { Redirect } from 'react-router';\nimport cookie from 'react-cookies';\nimport ChangeDP from './ChangeProfilePic';\nimport Grid from '@material-ui/core/Grid';\nimport MiniDrawer from '../Layout/MiniDrawer';\n\nvar axios = require('axios');\n\nvar ROOT_URL = \"\";\n\nvar Profile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile(props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Profile).call(this, props));\n\n    _this.handleLogout = function () {\n      axios.defaults.withCredentials = true;\n      axios.post('/logout').then(function (response) {\n        if (response.status === 200) {\n          console.log('User logged out successfully!');\n\n          _this.setState({\n            loggedout: true\n          });\n        }\n      });\n    };\n\n    _this.state = {\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      aboutme: \"\",\n      city: \"\",\n      country: \"\",\n      company: \"\",\n      school: \"\",\n      hometown: \"\",\n      languages: \"\",\n      submitsuccess: false,\n      loggedout: false,\n      profilechange: false,\n      image_path: '',\n      profilePicView: '',\n      profilepic: '' // male:\"\",\n      //female:\"\"\n\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLogout = _this.handleLogout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePhotoChange = _this.handlePhotoChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"handlePhotoChange\",\n    value: function handlePhotoChange() {\n      console.log('hi');\n      this.setState({\n        profilechange: true\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.defaults.withCredentials = true;\n      axios.get('/profile').then(function (res) {\n        if (res.status === 200) {\n          console.log(res.data);\n          var info = res.data.userdata;\n\n          _this2.setState({\n            name: info.name,\n            email: info.email,\n            phone: info.phone,\n            aboutme: info.aboutme,\n            city: info.city,\n            country: info.country,\n            company: info.company,\n            school: info.school,\n            hometown: info.hometown,\n            languages: info.languages,\n            success: res.status,\n            profilepic: info.profile_image // male:\"\",\n            //female:\"\"\n\n          }); //Download image\n\n\n          axios.post('/download-file/' + info.profile_image).then(function (response) {\n            var preview = 'data:image/jpg;base64, ' + response.data;\n\n            _this2.setState({\n              profilePicView: preview\n            });\n          });\n        }\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var _this3 = this;\n\n      var target = event.target;\n      var name = target.name;\n      var value = target.value;\n\n      if (name === \"profilepic\") {\n        console.log(target.files);\n        var profilePhoto = target.files[0];\n        var data = new FormData();\n        data.append('photos', profilePhoto);\n        axios.defaults.withCredentials = true;\n        axios.post('/upload-file', data).then(function (res) {\n          if (res.status === 200) {\n            console.log('Profile Photo Name: ', profilePhoto.name); //Download image\n\n            axios.post('/download-file/' + profilePhoto.name).then(function (res) {\n              var preview = 'data:image/jpg;base64, ' + res.data;\n\n              _this3.setState({\n                profilepic: profilePhoto.name,\n                profilePicView: preview\n              });\n            }).catch(function (err) {\n              if (err) {\n                _this3.setState({\n                  errorRedirect: true\n                });\n              }\n            });\n          }\n        });\n      } else {\n        var _event$target = event.target,\n            _name = _event$target.name,\n            _value = _event$target.value;\n        this.setState(_defineProperty({}, _name, _value));\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this4 = this;\n\n      event.preventDefault();\n      var logindetails = {\n        name: this.state.name,\n        email: this.state.email,\n        phone: this.state.phone,\n        aboutme: this.state.aboutme,\n        city: this.state.city,\n        country: this.state.country,\n        company: this.state.company,\n        school: this.state.school,\n        hometown: this.state.hometown,\n        languages: this.state.languages,\n        profilepic: this.state.profilepic // male:\"\",\n        //female:\"\"\n\n      };\n      axios.put('/updateProf', logindetails).then(function (res) {\n        console.log(res.data);\n\n        _this4.setState({\n          submitsuccess: true\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _React$createElement;\n\n      var redirectVar = null;\n\n      if (this.state.loggedout) {\n        redirectVar = React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        });\n      } else if (this.state.submitsuccess) {\n        redirectVar = React.createElement(Redirect, {\n          to: \"/teacherdashboard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        });\n      }\n\n      var profileImageData = React.createElement(\"img\", {\n        src: \"https://img.freepik.com/free-icon/user-filled-person-shape_318-74922.jpg?size=338c&ext=jpg\",\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      });\n\n      if (this.state.profilePicView) {\n        profileImageData = React.createElement(\"img\", {\n          src: this.state.profilePicView,\n          alt: \"logo\",\n          onClick: this.handlePhotoChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, redirectVar, React.createElement(Grid, {\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 4.5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(MiniDrawer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          backgroundColor: \"white\"\n        },\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"center-content profile-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \" \", profileImageData, \" \"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }), \"    \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0 \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.handleLogout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Logout\"), React.createElement(\"form\", {\n        method: \"post\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"Profile Information\"), React.createElement(\"div\", {\n        className: \"form-group\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: this.state.name,\n        onChange: this.handleChange,\n        type: \"text\",\n        className: \"form-control\",\n        name: \"name\",\n        placeholder: \"Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: this.state.email,\n        onChange: this.handleChange,\n        type: \"text\",\n        className: \"form-control\",\n        name: \"email\",\n        placeholder: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: this.state.phone,\n        onChange: this.handleChange,\n        type: \"text\",\n        className: \"form-control\",\n        name: \"phone\",\n        placeholder: \"Phone Number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        value: this.state.aboutme,\n        onChange: this.handleChange,\n        rows: \"4\",\n        cols: \"40\",\n        className: \"form-group\",\n        placeholder: \"About Me\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: this.state.city,\n        onChange: this.handleChange,\n        type: \"text\",\n        className: \"form-control\",\n        name: \"city\",\n        placeholder: \"city\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: this.state.country,\n        onChange: this.handleChange,\n        type: \"text\",\n        className: \"form-control\",\n        name: \"country\",\n        placeholder: \"Country\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: this.state.company,\n        onChange: this.handleChange,\n        type: \"text\",\n        className: \"form-control\",\n        name: \"company\",\n        placeholder: \"Company\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: this.state.school,\n        onChange: this.handleChange,\n        type: \"text\",\n        className: \"form-control\",\n        name: \"school\",\n        placeholder: \"School\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: this.state.hometown,\n        onChange: this.handleChange,\n        type: \"text\",\n        className: \"form-control\",\n        name: \"hometown\",\n        placeholder: \"Hometown\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: this.state.languages,\n        onChange: this.handleChange,\n        type: \"text\",\n        className: \"form-control\",\n        name: \"languages\",\n        placeholder: \"Languages\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"row form-group\",\n        className: \"form-group\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        onChage: this.handlegender,\n        value: this.state.gender,\n        class: \"form-control input-lg js-input-field\",\n        id: \"profileGenderInput\",\n        \"data-input-model-name\": \"gender\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        selected: \"selected\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, \"Gender\"), React.createElement(\"option\", {\n        value: \"female\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, \"Female\"), React.createElement(\"option\", {\n        value: \"male\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"Male\"), React.createElement(\"option\", {\n        value: \"other\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"Other\")))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"profilepic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, \"Profile Image : \")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }), React.createElement(\"input\", (_React$createElement = {\n        type: \"file\",\n        name: \"profilepic\",\n        id: \"profilepic\",\n        className: \"btn btn-lg photo-upload-btn\",\n        onChange: this.handleChange\n      }, _defineProperty(_React$createElement, \"className\", \"btn btn-lg photo-upload-btn\"), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement))), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, \"Save Changes\")))), this.state.profilechange && React.createElement(ChangeDP, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nexport default Profile;","map":{"version":3,"sources":["/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/src/components/Profile/profile.js"],"names":["React","Component","Col","Image","Container","Row","Avatar","Button","Redirect","cookie","ChangeDP","Grid","MiniDrawer","axios","require","ROOT_URL","Profile","props","handleLogout","defaults","withCredentials","post","then","response","status","console","log","setState","loggedout","state","name","email","phone","aboutme","city","country","company","school","hometown","languages","submitsuccess","profilechange","image_path","profilePicView","profilepic","handleChange","bind","handleSubmit","handlePhotoChange","get","res","data","info","userdata","success","profile_image","preview","event","target","value","files","profilePhoto","FormData","append","catch","err","errorRedirect","preventDefault","logindetails","put","redirectVar","profileImageData","backgroundColor","width","handlegender","gender"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,GAAR,EAAYC,KAAZ,EAAmBC,SAAnB,EAA8BC,GAA9B,QAAyC,iBAAzC;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,SAAQC,QAAR,QAAuB,cAAvB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;;AACA,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAMC,QAAQ,GAAG,EAAjB;;IAEMC,O;;;;;AAEJ,mBAAYC,KAAZ,EACA;AAAA;;AAAA;;AACE,iFAAMA,KAAN;;AADF,UA+GAC,YA/GA,GA+Ge,YAAM;AAEnBL,MAAAA,KAAK,CAACM,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACAP,MAAAA,KAAK,CAACQ,IAAN,CAAW,SAAX,EACKC,IADL,CACU,UAAAC,QAAQ,EAAI;AACd,YAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzBC,UAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;;AACA,gBAAKC,QAAL,CAAgB;AACZC,YAAAA,SAAS,EAAC;AADE,WAAhB;AAGH;AACJ,OARL;AASH,KA3HC;;AAEE,UAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,KAAK,EAAE,EAFE;AAGTC,MAAAA,KAAK,EAAC,EAHG;AAITC,MAAAA,OAAO,EAAC,EAJC;AAKTC,MAAAA,IAAI,EAAC,EALI;AAMTC,MAAAA,OAAO,EAAC,EANC;AAOTC,MAAAA,OAAO,EAAC,EAPC;AAQTC,MAAAA,MAAM,EAAC,EARE;AASTC,MAAAA,QAAQ,EAAC,EATA;AAUTC,MAAAA,SAAS,EAAC,EAVD;AAWTC,MAAAA,aAAa,EAAC,KAXL;AAYTZ,MAAAA,SAAS,EAAC,KAZD;AAaTa,MAAAA,aAAa,EAAC,KAbL;AAcTC,MAAAA,UAAU,EAAC,EAdF;AAeTC,MAAAA,cAAc,EAAC,EAfN;AAgBTC,MAAAA,UAAU,EAAC,EAhBF,CAiBV;AACC;;AAlBS,KAAb;AAoBA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,uDAApB;AACA,UAAK5B,YAAL,GAAoB,MAAKA,YAAL,CAAkB4B,IAAlB,uDAApB;AACA,UAAKE,iBAAL,GAAwB,MAAKA,iBAAL,CAAuBF,IAAvB,uDAAxB;AAzBF;AA0BC;;;;wCACmB;AAChBrB,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACF,WAAKC,QAAL,CAAc;AAAEc,QAAAA,aAAa,EAAE;AAAjB,OAAd;AACD;;;wCACkB;AAAA;;AACjB5B,MAAAA,KAAK,CAACM,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACAP,MAAAA,KAAK,CAACoC,GAAN,CAAU,UAAV,EAAsB3B,IAAtB,CACI,UAAA4B,GAAG,EAAI;AACH,YAAGA,GAAG,CAAC1B,MAAJ,KAAc,GAAjB,EACA;AACIC,UAAAA,OAAO,CAACC,GAAR,CAAYwB,GAAG,CAACC,IAAhB;AACA,cAAIC,IAAI,GAAGF,GAAG,CAACC,IAAJ,CAASE,QAApB;;AACA,UAAA,MAAI,CAAC1B,QAAL,CAAc;AACVG,YAAAA,IAAI,EAAEsB,IAAI,CAACtB,IADD;AAEVC,YAAAA,KAAK,EAAEqB,IAAI,CAACrB,KAFF;AAGVC,YAAAA,KAAK,EAAEoB,IAAI,CAACpB,KAHF;AAIVC,YAAAA,OAAO,EAAGmB,IAAI,CAACnB,OAJL;AAKVC,YAAAA,IAAI,EAAEkB,IAAI,CAAClB,IALD;AAMVC,YAAAA,OAAO,EAAEiB,IAAI,CAACjB,OANJ;AAOVC,YAAAA,OAAO,EAAGgB,IAAI,CAAChB,OAPL;AAQVC,YAAAA,MAAM,EAAEe,IAAI,CAACf,MARH;AASVC,YAAAA,QAAQ,EAAEc,IAAI,CAACd,QATL;AAUVC,YAAAA,SAAS,EAAEa,IAAI,CAACb,SAVN;AAWVe,YAAAA,OAAO,EAACJ,GAAG,CAAC1B,MAXF;AAYVoB,YAAAA,UAAU,EAAEQ,IAAI,CAACG,aAZP,CAaX;AACC;;AAdU,WAAd,EAHJ,CAmBI;;;AACA1C,UAAAA,KAAK,CAACQ,IAAN,CAAW,oBAAoB+B,IAAI,CAACG,aAApC,EACCjC,IADD,CACM,UAAAC,QAAQ,EAAI;AACd,gBAAIiC,OAAO,GAAG,4BAA4BjC,QAAQ,CAAC4B,IAAnD;;AACA,YAAA,MAAI,CAACxB,QAAL,CAAc;AACVgB,cAAAA,cAAc,EAAEa;AADN,aAAd;AAIH,WAPD;AAQH;AAEJ,OAjCL;AAmCD;;;iCACYC,K,EACb;AAAA;;AACE,UAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,UAAM5B,IAAI,GAAG4B,MAAM,CAAC5B,IAApB;AACA,UAAM6B,KAAK,GAAGD,MAAM,CAACC,KAArB;;AAEA,UAAI7B,IAAI,KAAK,YAAb,EAA2B;AACvBL,QAAAA,OAAO,CAACC,GAAR,CAAYgC,MAAM,CAACE,KAAnB;AACA,YAAIC,YAAY,GAAGH,MAAM,CAACE,KAAP,CAAa,CAAb,CAAnB;AACA,YAAIT,IAAI,GAAG,IAAIW,QAAJ,EAAX;AACAX,QAAAA,IAAI,CAACY,MAAL,CAAY,QAAZ,EAAsBF,YAAtB;AACAhD,QAAAA,KAAK,CAACM,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACAP,QAAAA,KAAK,CAACQ,IAAN,CAAW,cAAX,EAA2B8B,IAA3B,EACK7B,IADL,CACU,UAAA4B,GAAG,EAAI;AACT,cAAIA,GAAG,CAAC1B,MAAJ,KAAe,GAAnB,EAAwB;AACpBC,YAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCmC,YAAY,CAAC/B,IAAjD,EADoB,CAGpB;;AACAjB,YAAAA,KAAK,CAACQ,IAAN,CAAW,oBAAoBwC,YAAY,CAAC/B,IAA5C,EACKR,IADL,CACU,UAAA4B,GAAG,EAAI;AACT,kBAAIM,OAAO,GAAG,4BAA4BN,GAAG,CAACC,IAA9C;;AACA,cAAA,MAAI,CAACxB,QAAL,CAAc;AACViB,gBAAAA,UAAU,EAAEiB,YAAY,CAAC/B,IADf;AAEVa,gBAAAA,cAAc,EAAEa;AAFN,eAAd;AAKH,aARL,EAQOQ,KARP,CAQa,UAACC,GAAD,EAAQ;AACb,kBAAGA,GAAH,EAAO;AACH,gBAAA,MAAI,CAACtC,QAAL,CAAc;AACVuC,kBAAAA,aAAa,EAAE;AADL,iBAAd;AAGH;AACJ,aAdL;AAeH;AACJ,SAtBL;AAuBH,OA7BD,MA8BI;AAAA,4BACsBT,KAAK,CAACC,MAD5B;AAAA,YACO5B,KADP,iBACOA,IADP;AAAA,YACa6B,MADb,iBACaA,KADb;AAEA,aAAKhC,QAAL,qBAAiBG,KAAjB,EAAwB6B,MAAxB;AACH;AACF;;;iCAeYF,K,EACb;AAAA;;AACEA,MAAAA,KAAK,CAACU,cAAN;AACA,UAAMC,YAAY,GAAE;AAChBtC,QAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,IADD;AAEhBC,QAAAA,KAAK,EAAE,KAAKF,KAAL,CAAWE,KAFF;AAGhBC,QAAAA,KAAK,EAAE,KAAKH,KAAL,CAAWG,KAHF;AAIhBC,QAAAA,OAAO,EAAE,KAAKJ,KAAL,CAAWI,OAJJ;AAKhBC,QAAAA,IAAI,EAAE,KAAKL,KAAL,CAAWK,IALD;AAMhBC,QAAAA,OAAO,EAAE,KAAKN,KAAL,CAAWM,OANJ;AAOhBC,QAAAA,OAAO,EAAE,KAAKP,KAAL,CAAWO,OAPJ;AAQhBC,QAAAA,MAAM,EAAE,KAAKR,KAAL,CAAWQ,MARH;AAShBC,QAAAA,QAAQ,EAAE,KAAKT,KAAL,CAAWS,QATL;AAUhBC,QAAAA,SAAS,EAAE,KAAKV,KAAL,CAAWU,SAVN;AAWhBK,QAAAA,UAAU,EAAE,KAAKf,KAAL,CAAWe,UAXP,CAYjB;AACC;;AAbgB,OAApB;AAgBA/B,MAAAA,KAAK,CAACwD,GAAN,CAAU,aAAV,EAAyBD,YAAzB,EAAuC9C,IAAvC,CAA4C,UAAA4B,GAAG,EAC/C;AACIzB,QAAAA,OAAO,CAACC,GAAR,CAAYwB,GAAG,CAACC,IAAhB;;AACA,QAAA,MAAI,CAACxB,QAAL,CAAc;AAACa,UAAAA,aAAa,EAAE;AAAhB,SAAd;AAEH,OALD;AAOD;;;6BAEQ;AAAA;;AACP,UAAI8B,WAAW,GAAG,IAAlB;;AACA,UAAG,KAAKzC,KAAL,CAAWD,SAAd,EAAwB;AACpB0C,QAAAA,WAAW,GAAG,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAE,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAd;AACD,OAFH,MAGO,IAAG,KAAKzC,KAAL,CAAWW,aAAd,EAA4B;AAC/B8B,QAAAA,WAAW,GAAG,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAE,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAd;AACD;;AACD,UAAIC,gBAAgB,GAAG;AAAK,QAAA,GAAG,EAAC,4FAAT;AAAsG,QAAA,GAAG,EAAC,MAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAvB;;AACA,UAAI,KAAK1C,KAAL,CAAWc,cAAf,EAA+B;AAC3B4B,QAAAA,gBAAgB,GAAG;AAAK,UAAA,GAAG,EAAE,KAAK1C,KAAL,CAAWc,cAArB;AAAqC,UAAA,GAAG,EAAC,MAAzC;AAAgD,UAAA,OAAO,EAAE,KAAKK,iBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAnB;AACH;;AAEL,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMsB,WAAN,EACA,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CADA,EAIA,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,KAAK,EAAE;AAACE,UAAAA,eAAe,EAAG;AAAnB,SAAZ;AAA0C,QAAA,SAAS,EAAC,WAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAIA;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAkDD,gBAAlD,MADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,2GAGA,oBAAC,MAAD;AAAS,QAAA,OAAO,EAAC,SAAjB;AAA2B,QAAA,OAAO,EAAE,KAAKrD,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHA,EAIA;AAAM,QAAA,MAAM,EAAC,MAAb;AAAoB,QAAA,QAAQ,EAAE,KAAK6B,YAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADJ,EAGQ;AAAK,QAAA,SAAS,EAAC,YAAf;AAA6B,QAAA,KAAK,EAAE;AAAC0B,UAAAA,KAAK,EAAG;AAAT,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAO,QAAA,KAAK,EAAE,KAAK5C,KAAL,CAAWC,IAAzB;AAAgC,QAAA,QAAQ,EAAI,KAAKe,YAAjD;AAA+D,QAAA,IAAI,EAAC,MAApE;AAA2E,QAAA,SAAS,EAAC,cAArF;AAAoG,QAAA,IAAI,EAAC,MAAzG;AAAgH,QAAA,WAAW,EAAC,MAA5H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CAHR,EAOQ;AAAK,QAAA,SAAS,EAAC,YAAf;AAA6B,QAAA,KAAK,EAAE;AAAC4B,UAAAA,KAAK,EAAG;AAAT,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,KAAK,EAAE,KAAK5C,KAAL,CAAWE,KAAzB;AAAiC,QAAA,QAAQ,EAAI,KAAKc,YAAlD;AAAgE,QAAA,IAAI,EAAC,MAArE;AAA4E,QAAA,SAAS,EAAC,cAAtF;AAAsG,QAAA,IAAI,EAAC,OAA3G;AAAmH,QAAA,WAAW,EAAC,OAA/H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAPR,EAUQ;AAAK,QAAA,SAAS,EAAC,YAAf;AAA4B,QAAA,KAAK,EAAE;AAAC4B,UAAAA,KAAK,EAAG;AAAT,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,KAAK,EAAE,KAAK5C,KAAL,CAAWG,KAAzB;AAAiC,QAAA,QAAQ,EAAI,KAAKa,YAAlD;AAAgE,QAAA,IAAI,EAAC,MAArE;AAA4E,QAAA,SAAS,EAAC,cAAtF;AAAsG,QAAA,IAAI,EAAC,OAA3G;AAAmH,QAAA,WAAW,EAAC,cAA/H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAVR,EAaQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAU,QAAA,KAAK,EAAE,KAAKhB,KAAL,CAAWI,OAA5B;AAAsC,QAAA,QAAQ,EAAI,KAAKY,YAAvD;AAAqE,QAAA,IAAI,EAAC,GAA1E;AAA8E,QAAA,IAAI,EAAC,IAAnF;AAAwF,QAAA,SAAS,EAAC,YAAlG;AAA+G,QAAA,WAAW,EAAC,UAA3H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAbR,EAkBQ;AAAK,QAAA,SAAS,EAAC,YAAf;AAA6B,QAAA,KAAK,EAAE;AAAC4B,UAAAA,KAAK,EAAG;AAAT,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,KAAK,EAAE,KAAK5C,KAAL,CAAWK,IAAzB;AAAgC,QAAA,QAAQ,EAAI,KAAKW,YAAjD;AAA+D,QAAA,IAAI,EAAC,MAApE;AAA2E,QAAA,SAAS,EAAC,cAArF;AAAoG,QAAA,IAAI,EAAC,MAAzG;AAAgH,QAAA,WAAW,EAAC,MAA5H;AAAmI,QAAA,QAAQ,MAA3I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAlBR,EAsBQ;AAAK,QAAA,SAAS,EAAC,YAAf;AAA6B,QAAA,KAAK,EAAE;AAAC4B,UAAAA,KAAK,EAAG;AAAT,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,KAAK,EAAE,KAAK5C,KAAL,CAAWM,OAAzB;AAAmC,QAAA,QAAQ,EAAI,KAAKU,YAApD;AAAkE,QAAA,IAAI,EAAC,MAAvE;AAA8E,QAAA,SAAS,EAAC,cAAxF;AAAuG,QAAA,IAAI,EAAC,SAA5G;AAAsH,QAAA,WAAW,EAAC,SAAlI;AAA4I,QAAA,QAAQ,MAApJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAtBR,EA0BQ;AAAK,QAAA,SAAS,EAAC,YAAf;AAA6B,QAAA,KAAK,EAAE;AAAC4B,UAAAA,KAAK,EAAG;AAAT,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,KAAK,EAAE,KAAK5C,KAAL,CAAWO,OAAzB;AAAmC,QAAA,QAAQ,EAAI,KAAKS,YAApD;AAAkE,QAAA,IAAI,EAAC,MAAvE;AAA8E,QAAA,SAAS,EAAC,cAAxF;AAAuG,QAAA,IAAI,EAAC,SAA5G;AAAsH,QAAA,WAAW,EAAC,SAAlI;AAA4I,QAAA,QAAQ,MAApJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CA1BR,EA8BQ;AAAK,QAAA,SAAS,EAAC,YAAf;AAA6B,QAAA,KAAK,EAAE;AAAC4B,UAAAA,KAAK,EAAG;AAAT,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAO,QAAA,KAAK,EAAE,KAAK5C,KAAL,CAAWQ,MAAzB;AAAiC,QAAA,QAAQ,EAAI,KAAKQ,YAAlD;AAAgE,QAAA,IAAI,EAAC,MAArE;AAA4E,QAAA,SAAS,EAAC,cAAtF;AAAqG,QAAA,IAAI,EAAC,QAA1G;AAAmH,QAAA,WAAW,EAAC,QAA/H;AAAwI,QAAA,QAAQ,MAAhJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CA9BR,EAkCQ;AAAK,QAAA,SAAS,EAAC,YAAf;AAA6B,QAAA,KAAK,EAAE;AAAC4B,UAAAA,KAAK,EAAG;AAAT,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAO,QAAA,KAAK,EAAE,KAAK5C,KAAL,CAAWS,QAAzB;AAAoC,QAAA,QAAQ,EAAI,KAAKO,YAArD;AAAmE,QAAA,IAAI,EAAC,MAAxE;AAA+E,QAAA,SAAS,EAAC,cAAzF;AAAwG,QAAA,IAAI,EAAC,UAA7G;AAAwH,QAAA,WAAW,EAAC,UAApI;AAA+I,QAAA,QAAQ,MAAvJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CAlCR,EAsCQ;AAAK,QAAA,SAAS,EAAC,YAAf;AAA6B,QAAA,KAAK,EAAE;AAAC4B,UAAAA,KAAK,EAAG;AAAT,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAO,QAAA,KAAK,EAAE,KAAK5C,KAAL,CAAWU,SAAzB;AAAsC,QAAA,QAAQ,EAAI,KAAKM,YAAvD;AAAqE,QAAA,IAAI,EAAC,MAA1E;AAAiF,QAAA,SAAS,EAAC,cAA3F;AAA0G,QAAA,IAAI,EAAC,WAA/G;AAA2H,QAAA,WAAW,EAAC,WAAvI;AAAmJ,QAAA,QAAQ,MAA3J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CAtCR,EAyCQ;AAAK,QAAA,KAAK,EAAC,gBAAX;AAA4B,QAAA,SAAS,EAAC,YAAtC;AAAoD,QAAA,KAAK,EAAE;AAAC4B,UAAAA,KAAK,EAAG;AAAT,SAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,OAAO,EAAE,KAAKC,YAAtB;AAAoC,QAAA,KAAK,EAAE,KAAK7C,KAAL,CAAW8C,MAAtD;AAA8D,QAAA,KAAK,EAAC,sCAApE;AAA2G,QAAA,EAAE,EAAC,oBAA9G;AAAmI,iCAAsB,QAAzJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQ;AAAQ,QAAA,QAAQ,EAAC,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADR,EAEQ;AAAQ,QAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFR,EAGQ;AAAQ,QAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHR,EAIQ;AAAQ,QAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJR,CADJ,CADJ,CAzCR,EAmDQ;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAO,QAAA,OAAO,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAA5B,CADA,EACqE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADrE,EAEA;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,YAAxB;AAAqC,QAAA,EAAE,EAAC,YAAxC;AAAqD,QAAA,SAAS,EAAC,6BAA/D;AAA6F,QAAA,QAAQ,EAAE,KAAK9B;AAA5G,4DAAoI,6BAApI;AAAA;AAAA;AAAA,uFAFA,CAnDR,EAuDQ;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAvDR,CADJ,CADJ,CAJA,EAmEK,KAAKhB,KAAL,CAAWY,aAAX,IAA4B,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnEjC,CAJA,CADA,CAJA,CADA,CADF;AAqFC;;;;EA7PmBxC,S;;AAgQtB,eAAee,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport {Col,Image, Container, Row } from 'react-bootstrap';\nimport Avatar from 'react-avatar';\nimport Button from 'react-bootstrap/Button';\nimport {Redirect} from 'react-router';\nimport cookie from 'react-cookies';\nimport ChangeDP from './ChangeProfilePic';\nimport Grid from '@material-ui/core/Grid';\nimport MiniDrawer from '../Layout/MiniDrawer';\nconst axios = require('axios');\nconst ROOT_URL = \"\";\n\nclass Profile extends Component \n{\n  constructor(props)\n  {\n    super(props);\n    this.state = {\n        name: \"\",\n        email: \"\",\n        phone:\"\",\n        aboutme:\"\",\n        city:\"\",\n        country:\"\",\n        company:\"\",\n        school:\"\",\n        hometown:\"\",\n        languages:\"\",\n        submitsuccess:false,\n        loggedout:false,\n        profilechange:false,\n        image_path:'',\n        profilePicView:'',\n        profilepic:''\n       // male:\"\",\n        //female:\"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n    this.handlePhotoChange= this.handlePhotoChange.bind(this);\n  }\n  handlePhotoChange() {\n      console.log('hi');\n    this.setState({ profilechange: true });\n  }\n  componentDidMount(){\n    axios.defaults.withCredentials = true;\n    axios.get('/profile').then(\n        res => {\n            if(res.status ===200)\n            {\n                console.log(res.data);\n                var info = res.data.userdata;\n                this.setState({\n                    name: info.name,\n                    email: info.email,\n                    phone: info.phone,\n                    aboutme:  info.aboutme,\n                    city: info.city,    \n                    country: info.country,\n                    company:  info.company,\n                    school: info.school,\n                    hometown: info.hometown,\n                    languages: info.languages,\n                    success:res.status,\n                    profilepic: info.profile_image\n                   // male:\"\",\n                    //female:\"\"\n                });\n                //Download image\n                axios.post('/download-file/' + info.profile_image)\n                .then(response => {\n                    let preview = 'data:image/jpg;base64, ' + response.data;\n                    this.setState({\n                        profilePicView: preview\n                    })\n\n                });\n            }\n\n        }\n    )\n  }\n  handleChange(event)\n  {\n    const target = event.target;\n    const name = target.name;\n    const value = target.value;\n\n    if (name === \"profilepic\") {\n        console.log(target.files);\n        var profilePhoto = target.files[0];\n        var data = new FormData();\n        data.append('photos', profilePhoto);\n        axios.defaults.withCredentials = true;\n        axios.post('/upload-file', data)\n            .then(res => {\n                if (res.status === 200) {\n                    console.log('Profile Photo Name: ', profilePhoto.name);\n\n                    //Download image\n                    axios.post('/download-file/' + profilePhoto.name)\n                        .then(res => {\n                            let preview = 'data:image/jpg;base64, ' + res.data;\n                            this.setState({\n                                profilepic: profilePhoto.name,\n                                profilePicView: preview\n                            })\n\n                        }).catch((err) =>{\n                            if(err){\n                                this.setState({\n                                    errorRedirect: true\n                                })\n                            }\n                        });\n                }\n            });\n    }\n    else{\n        const {name, value} = event.target;\n        this.setState({ [name]: value });\n    }\n  }\n\n  handleLogout = () => {\n\n    axios.defaults.withCredentials = true;\n    axios.post('/logout')\n        .then(response => {\n            if (response.status === 200) {\n                console.log('User logged out successfully!');\n                this.setState ( {\n                    loggedout:true,\n                        });\n            }\n        });\n}\n  handleSubmit(event)\n  {\n    event.preventDefault();\n    const logindetails ={\n        name: this.state.name,\n        email: this.state.email,\n        phone: this.state.phone,\n        aboutme: this.state.aboutme,\n        city: this.state.city,\n        country: this.state.country,\n        company: this.state.company,\n        school: this.state.school,\n        hometown: this.state.hometown,\n        languages: this.state.languages,\n        profilepic: this.state.profilepic\n       // male:\"\",\n        //female:\"\"\n        \n    };\n    axios.put('/updateProf', logindetails).then(res=>\n    {\n        console.log(res.data);\n        this.setState({submitsuccess: true})\n        \n    });\n    \n  }\n\n  render() {\n    let redirectVar = null;\n    if(this.state.loggedout){\n        redirectVar = <Redirect to= \"/login\"/>\n      }\n     else  if(this.state.submitsuccess){\n        redirectVar = <Redirect to= \"/teacherdashboard\"/>\n      }\n      let profileImageData = <img src=\"https://img.freepik.com/free-icon/user-filled-person-shape_318-74922.jpg?size=338c&ext=jpg\" alt=\"logo\" />\n      if (this.state.profilePicView) {\n          profileImageData = <img src={this.state.profilePicView} alt=\"logo\" onClick={this.handlePhotoChange}/>\n      }\n\n  return (\n    <div>{redirectVar}\n    <Grid container>   \n    <Grid item xs={4.5}>\n    <MiniDrawer/>\n    </Grid>                    \n    <Grid item xs={8}>\n    <div style={{backgroundColor : \"white\"}}  className=\"container\">\n    <br/>\n \n\n    <div className=\"container\"> \n    <div className=\"center-content profile-heading\"> {profileImageData} </div>\n    <br/>    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n    <Button  variant=\"primary\" onClick={this.handleLogout} >Logout</Button>\n    <form method=\"post\" onSubmit={this.handleSubmit} >\n        <div >\n            <div>\n                <h1>Profile Information</h1>\n                    \n                    <div className=\"form-group\"  style={{width : 200}}>\n                     <input value={this.state.name}  onChange = {this.handleChange} type=\"text\" className=\"form-control\" name=\"name\" placeholder=\"Name\" />\n                      </div>\n                    \n                    <div className=\"form-group\"  style={{width : 200}}>\n                        <input value={this.state.email}  onChange = {this.handleChange} type=\"text\" className=\"form-control\"  name=\"email\" placeholder=\"Email\" />\n                    </div>\n                    <div className=\"form-group\" style={{width : 200}}>\n                        <input value={this.state.phone}  onChange = {this.handleChange} type=\"text\" className=\"form-control\"  name=\"phone\" placeholder=\"Phone Number\" />\n                    </div>\n                    <div>\n                        <textarea value={this.state.aboutme}  onChange = {this.handleChange} rows=\"4\" cols=\"40\" className=\"form-group\" placeholder=\"About Me\">\n                        </textarea>\n                    </div>\n\n                    <div className=\"form-group\"  style={{width : 200}} >\n                        <input value={this.state.city}  onChange = {this.handleChange} type=\"text\" className=\"form-control\" name=\"city\" placeholder=\"city\" required/>\n                    </div>\n\n                    <div className=\"form-group\"  style={{width : 200}}>\n                        <input value={this.state.country}  onChange = {this.handleChange} type=\"text\" className=\"form-control\" name=\"country\" placeholder=\"Country\" required/>\n                    </div>\n\n                    <div className=\"form-group\"  style={{width : 200}}>\n                        <input value={this.state.company}  onChange = {this.handleChange} type=\"text\" className=\"form-control\" name=\"company\" placeholder=\"Company\" required/>\n                    </div>\n\n                    <div className=\"form-group\"  style={{width : 200}}>\n                    <input value={this.state.school} onChange = {this.handleChange} type=\"text\" className=\"form-control\" name=\"school\" placeholder=\"School\" required/>\n                    </div>\n\n                    <div className=\"form-group\"  style={{width : 200}}>\n                    <input value={this.state.hometown}  onChange = {this.handleChange} type=\"text\" className=\"form-control\" name=\"hometown\" placeholder=\"Hometown\" required/>\n                    </div>\n\n                    <div className=\"form-group\"  style={{width : 200}}>\n                    <input value={this.state.languages}   onChange = {this.handleChange} type=\"text\" className=\"form-control\" name=\"languages\" placeholder=\"Languages\" required/>\n                    </div>\n                    <div class=\"row form-group\" className=\"form-group\"  style={{width : 200}} >\n                        <div >\n                            <select onChage={this.handlegender} value={this.state.gender} class=\"form-control input-lg js-input-field\" id=\"profileGenderInput\" data-input-model-name=\"gender\">\n                                    <option selected=\"selected\">Gender</option>\n                                    <option value=\"female\">Female</option>\n                                    <option value=\"male\">Male</option>\n                                    <option value=\"other\">Other</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div className=\"form-group\">\n                    <label htmlFor=\"profilepic\"><strong>Profile Image : </strong></label><br />\n                    <input type=\"file\" name=\"profilepic\" id=\"profilepic\" className=\"btn btn-lg photo-upload-btn\" onChange={this.handleChange} className=\"btn btn-lg photo-upload-btn\" />\n                    </div>\n                    <button type=\"submit\" className=\"btn btn-primary\">Save Changes</button>   \n                \n                   \n            </div>\n        </div>\n        </form>\n        {this.state.profilechange && <ChangeDP/> }\n    </div>\n    </div>\n    </Grid>\n    </Grid>\n    </div>\n  );\n  }\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}