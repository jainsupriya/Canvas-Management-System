{"ast":null,"code":"import _defineProperty from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/src/components/Courses/SearchCourses.js\";\nimport React, { Component } from 'react';\nimport './courses.css';\nimport { Table } from 'reactstrap';\nimport { Container, Row, Col } from 'reactstrap';\nimport { truncate } from 'fs';\n\nvar axios = require('axios');\n\nvar SearchCourses =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchCourses, _Component);\n\n  function SearchCourses(props) {\n    var _this;\n\n    _classCallCheck(this, SearchCourses);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchCourses).call(this, props));\n    _this.state = {\n      value: '>=',\n      cnumber: '',\n      cname: '',\n      cterm: '',\n      cdept: '',\n      role: '',\n      enroll: false,\n      courses: []\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleOptionChange = _this.handleOptionChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEnroll = _this.handleEnroll.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SearchCourses, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"handleOptionChange\",\n    value: function handleOptionChange(event) {\n      this.setState({\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      var searchCriteria = {\n        value: this.state.value,\n        cnumber: this.state.cnumber,\n        cname: this.state.cname,\n        cterm: this.state.cterm,\n        cdept: this.state.cdept\n      };\n      axios.defaults.withCredentials = true;\n      axios.post('/searchCourse', searchCriteria).then(function (res) {\n        if (res.status === 200) {\n          _this2.setState({\n            value: '',\n            cnumber: '',\n            cname: '',\n            cterm: '',\n            role: '',\n            enroll: true,\n            courses: res.data\n          });\n        }\n      });\n    }\n  }, {\n    key: \"handleEnroll\",\n    value: function handleEnroll(cid) {\n      var _this3 = this;\n\n      axios.defaults.withCredentials = true;\n      var c_id = {\n        courseid: cid\n      };\n      var course = this.state.courses.filter(function (course) {\n        return course.courseid === cid;\n      });\n      course = course[0];\n      this.props.add({\n        \"courseid\": course.courseid,\n        \"nickname\": course.nickname,\n        \"name\": course.name,\n        \"dept\": course.dept,\n        \"term\": course.term,\n        \"published\": course.published\n      });\n      axios.post('/enroll', c_id).then(function (res) {\n        if (res.status === 200) {\n          _this3.setState({\n            value: '',\n            cnumber: '',\n            cname: '',\n            cterm: '',\n            role: '',\n            enroll: false,\n            courses: res.data\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var show = this.state.show;\n\n      if (this.state.enroll) {\n        var data = Array.from(this.state.courses).map(function (course, key) {\n          var status = course.status;\n          return React.createElement(\"tr\", {\n            key: key,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104\n            },\n            __self: this\n          }, course.dept, course.nickname, \" - \", course.name), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          }, course.room), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, course.createdBy), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }, course.status), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, \" \", React.createElement(\"button\", {\n            type: \"button\",\n            className: \"btn btn-primary btn-block\",\n            onClick: function onClick() {\n              return _this4.handleEnroll(course.courseid);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, status === 'Available' ? 'Enroll' : 'Add to Waitlist')));\n        });\n        return React.createElement(\"div\", {\n          style: {\n            marginLeft: 30\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(Table, {\n          striped: true,\n          bordered: true,\n          hover: true,\n          size: \"sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, \"Course\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, \"Room\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, \"Instructor\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, \"Status\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, data)));\n      } else if (!this.state.enroll) {\n        return React.createElement(\"div\", {\n          className: \"border mt-5 search-container\",\n          style: {\n            marginLeft: 30\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          onSubmit: this.handleSubmit,\n          method: \"post\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }), React.createElement(Container, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, \" \", React.createElement(\"lable\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, \" Course Dept \")), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          name: \"cdept\",\n          className: \"form-control\",\n          placeholder: \"Course Dept\",\n          required: \"required\",\n          value: this.state.dept,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        })), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }), \" \", React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        })), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, \" \", React.createElement(\"lable\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, \" Course Number \")), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, React.createElement(\"select\", {\n          value: this.state.value,\n          onChange: this.handleOptionChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          value: \">=\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, \"Greater than or equal to\"), React.createElement(\"option\", {\n          value: \"=\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, \"Equal to\"), React.createElement(\"option\", {\n          value: \"<=\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, \"Less than or equal to\"))), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          name: \"cnumber\",\n          className: \"form-control\",\n          placeholder: \"Course Number\",\n          required: \"required\",\n          value: this.state.cnumber,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        })), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        })), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, \" \", React.createElement(\"lable\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, \" Course Name \")), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          name: \"cname\",\n          className: \"form-control\",\n          placeholder: \"Course Name\",\n          value: this.state.cname,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        })), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }), \" \", React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        })), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, \" \", React.createElement(\"lable\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, \" Course Term \")), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          name: \"cterm\",\n          className: \"form-control\",\n          placeholder: \"Course Term\",\n          value: this.state.cterm,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        })), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }), \" \", React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        })), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          class: \"btn btn-primary btn-block\",\n          type: \"reset\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, \"Clear\")), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary btn-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, \"Submit\")), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          class: \"btn btn-primary btn-block\",\n          type: \"reset\",\n          onClick: this.props.handleShow,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, \"Back\")), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }), \" \", React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }))), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        })));\n      }\n    }\n  }]);\n\n  return SearchCourses;\n}(Component);\n\nexport default SearchCourses;","map":{"version":3,"sources":["/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/src/components/Courses/SearchCourses.js"],"names":["React","Component","Table","Container","Row","Col","truncate","axios","require","SearchCourses","props","state","value","cnumber","cname","cterm","cdept","role","enroll","courses","handleChange","bind","handleSubmit","handleOptionChange","handleEnroll","event","target","name","setState","preventDefault","searchCriteria","defaults","withCredentials","post","then","res","status","data","cid","c_id","courseid","course","filter","add","nickname","dept","term","published","show","Array","from","map","key","room","createdBy","marginLeft","handleShow"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './courses.css';\nimport { Table } from 'reactstrap';\nimport { Container, Row, Col } from 'reactstrap';\nimport { truncate } from 'fs';\n\nconst axios = require('axios');\n\nclass SearchCourses extends Component \n{\n  constructor(props)\n  {\n  super(props);\n\n\n    this.state = {\n        value :'>=',\n        cnumber:'',\n        cname:'',\n        cterm:'',\n        cdept:'',\n        role:'',\n        enroll:false,\n        courses : [],\n      };\n      this.handleChange = this.handleChange.bind(this);\n      this.handleSubmit = this.handleSubmit.bind(this);\n      this.handleOptionChange=this.handleOptionChange.bind(this);\n      this.handleEnroll = this.handleEnroll.bind(this);\n    }\n\n    handleChange(event)\n    {\n      const {name, value} = event.target;\n      this.setState({ [name]: value });\n    }\n    handleOptionChange(event) {\n        this.setState({value: event.target.value});\n    }    \n    handleSubmit(event)\n    {\n      event.preventDefault();\n      const searchCriteria ={\n        value :this.state.value,\n        cnumber:this.state.cnumber,\n        cname:this.state.cname,\n        cterm:this.state.cterm,\n        cdept: this.state.cdept,\n      }\n  \n      axios.defaults.withCredentials = true;\n      axios.post('/searchCourse', searchCriteria).\n        then(res=>{\n          if(res.status === 200)\n          {\n             this.setState ( {\n                value :'',\n                cnumber:'',\n                cname:'',\n                cterm:'',\n                role:'',\n                enroll:true,\n                courses:res.data\n            });\n          }\n        });\n    }\n    handleEnroll(cid){\n        axios.defaults.withCredentials = true;\n        const c_id ={\n                courseid : cid\n        }\n        let course = this.state.courses.filter(course => {\n          return course.courseid === cid });\n          course= course[0];\n          this.props.add({\"courseid\": course.courseid ,\"nickname\":course.nickname, \"name\": course.name, \"dept\":course.dept, \"term\": course.term , \"published\": course.published});\n        axios.post('/enroll', c_id).\n          then(res=>{\n            if(res.status === 200)\n            {\n               this.setState ( {\n                  value :'',\n                  cnumber:'',\n                  cname:'',\n                  cterm:'',\n                  role:'',\n                  enroll:false,\n                  courses:res.data\n              });\n              \n            }\n            \n          });       \n    }\n\n  render() {\n    const { show } = this.state;\n    if(this.state.enroll)\n    {  \n        var data =  Array.from(this.state.courses).map((course, key) => {\n          var status = course.status\n            return (\n              <tr key = {key} >   \n               <td >{course.dept}{course.nickname} - {course.name}</td>                \n              <td >{course.room}</td>\n              <td>{course.createdBy}</td>\n              <td>{course.status}</td>\n              <td> <button type=\"button\" className=\"btn btn-primary btn-block\" onClick={() =>this.handleEnroll(course.courseid)}>{status==='Available'? 'Enroll' : 'Add to Waitlist'}</button></td>\n              </tr>\n            )\n        });    \n        return(\n            <div  style={{marginLeft:30}} > \n            <Table striped bordered hover size=\"sm\">\n            <thead>\n                <tr>\n                <th>Course</th>\n                <th>Room</th>\n                <th>Instructor</th>\n                <th>Status</th>\n                <th></th>\n                </tr>\n            </thead>\n            <tbody>\n                {data}\n            </tbody>\n            </Table>\n            </div>\n        );\n    }\n    else if(!this.state.enroll)\n    {\n        return (\n            <div className=\"border mt-5 search-container\" style={{marginLeft:30}}> \n            <form onSubmit={this.handleSubmit} method=\"post\">\n            <br/>\n                <Container>\n                        <Row>\n                            <Col> <lable> Course Dept </lable></Col>\n                            <Col><input type=\"text\" name=\"cdept\" className=\"form-control\" placeholder=\"Course Dept\" required=\"required\" value={this.state.dept} onChange={this.handleChange} /></Col>\n                            <Col></Col><Col></Col><Col></Col> <Col></Col>\n                        </Row><br/>                      \n                        <Row>\n                            <Col> <lable> Course Number </lable></Col>\n                            <Col>\n                            <select value={this.state.value} onChange={this.handleOptionChange}>\n                                <option value=\">=\">Greater than or equal to</option>\n                                <option value=\"=\">Equal to</option>\n                                <option value=\"<=\">Less than or equal to</option>\n                            </select>\n                            </Col>\n                            <Col><input type=\"text\" name=\"cnumber\" className=\"form-control\" placeholder=\"Course Number\" required=\"required\" value={this.state.cnumber} onChange={this.handleChange} /></Col>\n                            <Col></Col>\n                            <Col></Col>\n                            <Col></Col>  \n                        </Row><br/>                    \n                        <Row>\n                            <Col> <lable> Course Name </lable></Col>\n                            <Col><input type=\"text\" name=\"cname\" className=\"form-control\" placeholder=\"Course Name\"  value={this.state.cname} onChange={this.handleChange} /></Col>\n                            <Col></Col><Col></Col><Col></Col> <Col></Col>\n                        </Row><br/>\n                        <Row>\n                            <Col> <lable> Course Term </lable></Col>\n                            <Col><input type=\"text\" name=\"cterm\" className=\"form-control\" placeholder=\"Course Term\" value={this.state.cterm} onChange={this.handleChange} /></Col>\n                            <Col></Col><Col></Col><Col></Col> <Col></Col>\n                        </Row><br/>\n                        <Row>\n                            <Col><button class=\"btn btn-primary btn-block\" type=\"reset\">Clear</button></Col>\n                            <Col><button type=\"submit\" className=\"btn btn-primary btn-block\">Submit</button></Col>\n                            <Col><button class=\"btn btn-primary btn-block\" type=\"reset\" onClick={this.props.handleShow}>Back</button></Col><Col></Col><Col></Col> <Col></Col>\n                        </Row>\n                        \n                </Container>           \n            <br/> \n            </form>\n            </div>\n            \n        );\n    }\n\n  }\n}\n\nexport default SearchCourses;"]},"metadata":{},"sourceType":"module"}