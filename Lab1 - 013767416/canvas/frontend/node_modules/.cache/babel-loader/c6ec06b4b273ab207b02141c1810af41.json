{"ast":null,"code":"import _classCallCheck from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/src/components/Profile/ChangeProfilePic.js\";\nimport React, { Component } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\n\nvar axios = require('axios');\n\nvar ChangeDP =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChangeDP, _Component);\n\n  function ChangeDP(props) {\n    var _this;\n\n    _classCallCheck(this, ChangeDP);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChangeDP).call(this, props));\n    _this.state = {\n      file: '',\n      imagePreviewUrl: '',\n      show: true\n    }; //this.handleShow = this.handleShow.bind(this);\n\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSave = _this.handleSave.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ChangeDP, [{\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        show: false\n      });\n    }\n  }, {\n    key: \"_handleImageChange\",\n    value: function _handleImageChange(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      var reader = new FileReader();\n      var file = e.target.files[0];\n\n      reader.onloadend = function () {\n        _this2.setState({\n          file: file,\n          imagePreviewUrl: reader.result\n        });\n      };\n\n      reader.readAsDataURL(file);\n    }\n  }, {\n    key: \"handleSave\",\n    value: function handleSave(event) {\n      var _this3 = this;\n\n      event.preventDefault();\n      console.log('handle uploading-', this.state.file);\n      /* const courseDetails ={\n         };\n         axios.defaults.withCredentials = true;\n         axios.post('/addcourse', courseDetails).then(res=>\n         {\n           this.state = {\n               show:false,\n               };\n         });*/\n\n      var formData = new FormData();\n      formData.append('file', this.state.file);\n      axios.post('/users/uploadDP', formData).then(function (res) {\n        console.log(res.status);\n        if (res.status === 200) console.log(res.status);\n\n        _this3.setState({\n          show: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var imagePreviewUrl = this.state.imagePreviewUrl;\n      var $imagePreview = null;\n\n      if (imagePreviewUrl) {\n        $imagePreview = React.createElement(\"img\", {\n          src: imagePreviewUrl,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        });\n      } else {\n        $imagePreview = React.createElement(\"div\", {\n          className: \"previewText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \"Please select an Image for Preview\");\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        show: this.state.show,\n        onHide: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Start a new Course\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        method: \"post\",\n        onSubmit: this.handleSave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"previewComponent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          return _this4._handleSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"fileInput\",\n        type: \"file\",\n        onChange: function onChange(e) {\n          return _this4._handleImageChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"imgPreview\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, $imagePreview)))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Close\"), React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.handleSave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Upload Photo\"))));\n    }\n  }]);\n\n  return ChangeDP;\n}(Component);\n\nexport default ChangeDP;","map":{"version":3,"sources":["/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/src/components/Profile/ChangeProfilePic.js"],"names":["React","Component","Button","Modal","axios","require","ChangeDP","props","state","file","imagePreviewUrl","show","handleClose","bind","handleSave","setState","e","preventDefault","reader","FileReader","target","files","onloadend","result","readAsDataURL","event","console","log","formData","FormData","append","post","then","res","status","$imagePreview","_handleSubmit","_handleImageChange"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;;AAGA,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;IAEMC,Q;;;;;AAGJ,oBAAYC,KAAZ,EACA;AAAA;;AAAA;;AACI,kFAAMA,KAAN;AACE,UAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,eAAe,EAAE,EAFR;AAGTC,MAAAA,IAAI,EAAC;AAHI,KAAb,CAFN,CAOU;;AACA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,uDAAnB;AACA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBD,IAAhB,uDAAlB;AATV;AAUC;;;;kCACa;AACZ,WAAKE,QAAL,CAAc;AAAEJ,QAAAA,IAAI,EAAE;AAAR,OAAd;AACD;;;uCACkBK,C,EAAG;AAAA;;AACpBA,MAAAA,CAAC,CAACC,cAAF;AAEA,UAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;AACA,UAAIV,IAAI,GAAGO,CAAC,CAACI,MAAF,CAASC,KAAT,CAAe,CAAf,CAAX;;AAEAH,MAAAA,MAAM,CAACI,SAAP,GAAmB,YAAM;AACvB,QAAA,MAAI,CAACP,QAAL,CAAc;AACZN,UAAAA,IAAI,EAAEA,IADM;AAEZC,UAAAA,eAAe,EAAEQ,MAAM,CAACK;AAFZ,SAAd;AAID,OALD;;AAMAL,MAAAA,MAAM,CAACM,aAAP,CAAqBf,IAArB;AACH;;;+BACYgB,K,EAAO;AAAA;;AAChBA,MAAAA,KAAK,CAACR,cAAN;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,KAAKnB,KAAL,CAAWC,IAA5C;AACD;;;;;;;;;;AASG,UAAMmB,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwB,KAAKtB,KAAL,CAAWC,IAAnC;AAEAL,MAAAA,KAAK,CAAC2B,IAAN,CAAW,iBAAX,EAA8BH,QAA9B,EACAI,IADA,CACK,UAAAC,GAAG,EAAE;AACRP,QAAAA,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACC,MAAhB;AACA,YAAGD,GAAG,CAACC,MAAJ,KAAe,GAAlB,EACIR,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACC,MAAhB;;AACF,QAAA,MAAI,CAACnB,QAAL,CAAc;AAACJ,UAAAA,IAAI,EAAC;AAAN,SAAd;AACH,OAND;AAQH;;;6BACQ;AAAA;;AAAA,UACFD,eADE,GACiB,KAAKF,KADtB,CACFE,eADE;AAEP,UAAIyB,aAAa,GAAG,IAApB;;AACA,UAAIzB,eAAJ,EAAqB;AACnByB,QAAAA,aAAa,GAAI;AAAK,UAAA,GAAG,EAAEzB,eAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAjB;AACD,OAFD,MAEO;AACLyB,QAAAA,aAAa,GAAI;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAAjB;AACD;;AAED,aACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAE,KAAK3B,KAAL,CAAWG,IAAxB;AAA8B,QAAA,MAAM,EAAE,KAAKC,WAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,oBAAC,KAAD,CAAO,MAAP;AAAc,QAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,CADH,EAIG,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAM,QAAA,MAAM,EAAC,MAAb;AAAoB,QAAA,QAAQ,EAAE,KAAKE,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAM,QAAA,QAAQ,EAAE,kBAACE,CAAD;AAAA,iBAAK,MAAI,CAACoB,aAAL,CAAmBpB,CAAnB,CAAL;AAAA,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,SAAS,EAAC,WAAjB;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,QAAQ,EAAE,kBAACA,CAAD;AAAA,iBAAK,MAAI,CAACqB,kBAAL,CAAwBrB,CAAxB,CAAL;AAAA,SAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADA,EAMA;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGmB,aADH,CANA,CADA,CADA,CAJH,EAkBG,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,WAAhB;AAA4B,QAAA,OAAO,EAAE,KAAKvB,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAIE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,SAAhB;AAA4B,QAAA,OAAO,EAAE,KAAKE,UAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJF,CAlBH,CADH,CADA;AA+BD;;;;EAhGoBb,S;;AAmGvB,eAAeK,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal'\n\n\nconst axios = require('axios');\n\nclass ChangeDP extends Component \n{\n\n  constructor(props)\n  {\n      super(props);\n        this.state = {\n            file: '',\n            imagePreviewUrl: '',\n            show:true,\n            };\n            //this.handleShow = this.handleShow.bind(this);\n            this.handleClose = this.handleClose.bind(this);\n            this.handleSave = this.handleSave.bind(this);\n  }\n  handleClose() {\n    this.setState({ show: false });\n  }\n  _handleImageChange(e) {\n    e.preventDefault();\n\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      this.setState({\n        file: file,\n        imagePreviewUrl: reader.result\n      });\n    }\n    reader.readAsDataURL(file)\n}\n  handleSave(event) {\n    event.preventDefault();\n    console.log('handle uploading-', this.state.file);\n   /* const courseDetails ={\n      };\n      axios.defaults.withCredentials = true;\n      axios.post('/addcourse', courseDetails).then(res=>\n      {\n        this.state = {\n            show:false,\n            };\n      });*/\n      const formData = new FormData();\n      formData.append('file', this.state.file);\n\n      axios.post('/users/uploadDP', formData).\n      then(res=>{\n        console.log(res.status);\n        if(res.status === 200)\n            console.log(res.status);\n          this.setState({show:false});\n      });\n\n  }\n  render() {\n    let {imagePreviewUrl} = this.state;\n    let $imagePreview = null;\n    if (imagePreviewUrl) {\n      $imagePreview = (<img src={imagePreviewUrl} />);\n    } else {\n      $imagePreview = (<div className=\"previewText\">Please select an Image for Preview</div>);\n    }\n\n    return (\n    <div>\n       <Modal show={this.state.show} onHide={this.handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Start a new Course</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n          <form method=\"post\" onSubmit={this.handleSave}>\n          <div className=\"previewComponent\">\n          <form onSubmit={(e)=>this._handleSubmit(e)}>\n            <input className=\"fileInput\" \n              type=\"file\" \n              onChange={(e)=>this._handleImageChange(e)} />\n          </form>\n          <div className=\"imgPreview\">\n            {$imagePreview}\n          </div>\n        </div>\n        </form>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={this.handleClose}>\n              Close\n            </Button>\n            <Button variant=\"primary\"   onClick={this.handleSave}>\n              Upload Photo\n            </Button>\n          </Modal.Footer>\n        </Modal>\n    </div>\n    )\n  }\n}\n\nexport default ChangeDP;\n"]},"metadata":{},"sourceType":"module"}