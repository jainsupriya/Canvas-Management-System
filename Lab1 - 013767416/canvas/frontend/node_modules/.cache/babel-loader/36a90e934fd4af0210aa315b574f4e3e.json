{"ast":null,"code":"import _classCallCheck from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectSpread from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/src/components/CourseDetails/Assignment/ShowAssignments.js\";\nimport React, { Component } from 'react';\nimport './assignment.css';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Moment from 'react-moment';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport AssignmentSubmission from './AssignmentSubmission';\nimport { Redirect } from 'react-router';\nimport { Container, Row, Col } from 'reactstrap';\nimport LongMenu from '../../Layout/LongMenu';\n\nvar axios = require('axios');\n\nvar styles = function styles(theme) {\n  return {\n    root: _objectSpread({}, theme.mixins.gutters(), {\n      paddingTop: theme.spacing.unit * 1.5,\n      paddingBottom: theme.spacing.unit * 1.5\n    })\n  };\n};\n\nvar ShowAssignments =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ShowAssignments, _Component);\n\n  function ShowAssignments(props) {\n    var _this;\n\n    _classCallCheck(this, ShowAssignments);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ShowAssignments).call(this, props));\n\n    _this.openAssignment = function (id) {\n      _this.setState({\n        open: true,\n        assignmentid: id\n      });\n\n      _this.props.toggle();\n    };\n\n    _this.state = {\n      asgn: [],\n      show: false,\n      open: false,\n      assignmentid: ''\n    };\n    return _this;\n  }\n\n  _createClass(ShowAssignments, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      axios.defaults.withCredentials = true;\n      axios.get('/assignments', {\n        params: {\n          id: localStorage.getItem(\"courseid\")\n        }\n      }).then(function (res) {\n        if (res.status === 200) _this2.setState({\n          asgn: res.data\n        }); //this.props.history.push(`/assignment`);\n      });\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(id) {\n      var _this3 = this;\n\n      axios.defaults.withCredentials = true;\n      var aid = {\n        assignmentid: id\n      };\n      axios.post('/deleteAssignments', aid).then(function (res) {\n        if (res.status === 200) {\n          var assignment = _this3.state.asgn.filter(function (assignment) {\n            return assignment.assignmentid !== id;\n          });\n\n          _this3.setState({\n            asgn: assignment\n          });\n\n          console.log(_this3.state.asgn);\n        }\n      });\n    }\n  }, {\n    key: \"handleEdit\",\n    value: function handleEdit(assignmentid) {\n      console.log('edit');\n      console.log(assignmentid);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      //let redirectVar = null;\n      var classes = this.props.classes;\n      var pipe = \" | \";\n      if (this.state.open) return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(AssignmentSubmission, {\n        courseid: localStorage.getItem(\"courseid\"),\n        assignmentid: this.state.assignmentid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), \" \");\n      var data = this.state.asgn.map(function (assgn, key) {\n        return React.createElement(Paper, {\n          className: classes.root,\n          elevation: 0,\n          key: key,\n          style: {\n            border: '1px ridge gray'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(Container, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(Col, {\n          sm: \"9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          component: \"p\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          style: {\n            color: \"#094D98\"\n          },\n          onClick: function onClick() {\n            return _this4.openAssignment(assgn.assignmentid);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, assgn.name, \" \"))), React.createElement(Typography, {\n          component: \"p\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, \"Due  \", React.createElement(Moment, {\n          format: \"ll\",\n          date: new Date(assgn.dueDate),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }), \" at  \", React.createElement(Moment, {\n          format: \"LT\",\n          date: new Date(assgn.dueDate),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }), \" \", pipe, \" \", assgn.points, \" Points\")), React.createElement(Col, {\n          sm: \"2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, localStorage.getItem(\"role\") === 'Teacher' && React.createElement(LongMenu, {\n          delete: function _delete() {\n            return _this4.handleDelete(assgn.assignmentid);\n          },\n          edit: function edit() {\n            return _this4.handleEdit(assgn.assignmentid);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        })))));\n      });\n      return React.createElement(\"div\", {\n        className: \"center-align container mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"item-group-container\",\n        \"data-view\": \"assignmentGroups\",\n        id: \"ag-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"collectionViewItems ig-list ui-sortable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, data, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return ShowAssignments;\n}(Component);\n\nShowAssignments.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(ShowAssignments);","map":{"version":3,"sources":["/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/src/components/CourseDetails/Assignment/ShowAssignments.js"],"names":["React","Component","PropTypes","withStyles","Moment","Paper","Typography","AssignmentSubmission","Redirect","Container","Row","Col","LongMenu","axios","require","styles","theme","root","mixins","gutters","paddingTop","spacing","unit","paddingBottom","ShowAssignments","props","openAssignment","id","setState","open","assignmentid","toggle","state","asgn","show","defaults","withCredentials","get","params","localStorage","getItem","then","res","status","data","aid","post","assignment","filter","console","log","classes","pipe","map","assgn","key","border","color","name","Date","dueDate","points","handleDelete","handleEdit","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './assignment.css';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Moment from 'react-moment';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport AssignmentSubmission from './AssignmentSubmission';\nimport {Redirect} from 'react-router';\nimport { Container, Row, Col } from 'reactstrap';\nimport LongMenu from '../../Layout/LongMenu';\n\nconst axios = require('axios');\nconst styles = theme => ({\n  root: {\n    ...theme.mixins.gutters(),\n    paddingTop: theme.spacing.unit * 1.5,\n    paddingBottom: theme.spacing.unit * 1.5,\n  },\n});\n\nclass ShowAssignments extends Component \n{\n\n  constructor(props)\n  {\n      super(props);\n      this.state = {\n        asgn : [],\n        show:false,\n        open :false,\n        assignmentid :''\n      }\n  } \n  openAssignment = (id) => {\n    this.setState({ open: true ,\n    assignmentid:id});  \n    this.props.toggle();\n };\n \n  componentWillMount()\n  { \n    axios.defaults.withCredentials = true;\n    axios.get('/assignments', {params : {id :  localStorage.getItem(\"courseid\")}}  ).then(\n      res => {\n        if(res.status ===200)\n            this.setState({asgn: res.data});\n            //this.props.history.push(`/assignment`);\n      }\n    )\n  }\n  handleDelete(id){\n    axios.defaults.withCredentials = true;\n    const aid ={\n      assignmentid : id\n    }\n    axios.post('/deleteAssignments', aid ).then(\n      res => {\n        if(res.status ===200)\n           {\n            let assignment = this.state.asgn.filter(assignment => {\n            return assignment.assignmentid !== id });\n            this.setState({asgn:assignment});\n            console.log(this.state.asgn)\n           }\n      }\n    )\n  }\n  handleEdit(assignmentid){\n    console.log('edit');\n    console.log(assignmentid);\n  }\n  render() {\n    //let redirectVar = null;\n    const { classes } = this.props;\n    var pipe = \" | \"\n\n    if(this.state.open)\n    return( \n          <div><AssignmentSubmission  courseid = {localStorage.getItem(\"courseid\")} assignmentid = {this.state.assignmentid}/> </div>\n    ) \n\n    var data = this.state.asgn.map((assgn, key) => {      \n    return (   \n    <Paper className={classes.root} elevation={0} key = {key} style={{ border: '1px ridge gray'}}>\n    <Container>\n    <Row>\n    <Col sm='9'>      \n    <Typography component=\"p\"><b><a style={{color: \"#094D98\"}} onClick={() => this.openAssignment(assgn.assignmentid)}>{assgn.name} </a></b></Typography>\n    <Typography component=\"p\">\n    Due  <Moment format=\"ll\" date={new Date(assgn.dueDate)}/> at  <Moment format=\"LT\" date={new Date(assgn.dueDate)} /> {pipe} {assgn.points} Points\n    </Typography>\n    </Col>\n    <Col sm='2'>{ localStorage.getItem(\"role\")==='Teacher' && <LongMenu  delete={() =>this.handleDelete(assgn.assignmentid)} edit={() =>this.handleEdit(assgn.assignmentid)}/>}</Col>\n    </Row>\n    </Container>\n    </Paper>\n    )  \n    }) \n    \n    return (\n    <div className=\"center-align container mt-5\">\n\n    <div className =\"item-group-container\" data-view=\"assignmentGroups\" id=\"ag-list\"> \n    <div className =\"collectionViewItems ig-list ui-sortable\">\n    {data}\n    <br/>\n    </div>\n    </div>\n    </div>\n    )\n  }\n}\nShowAssignments.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ShowAssignments);"]},"metadata":{},"sourceType":"module"}