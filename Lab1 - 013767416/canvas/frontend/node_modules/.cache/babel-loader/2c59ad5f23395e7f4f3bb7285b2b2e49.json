{"ast":null,"code":"import _classCallCheck from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/src/components/CourseDetails/Quiz/Quiz.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Search from '../../Search';\nimport Button from 'react-bootstrap/Button';\nimport ShowQuiz from './ShowQuiz';\nimport QuizTabs from './QuizTabs';\nimport Grid from '@material-ui/core/Grid';\nimport MiniDrawer from '../../Layout/MiniDrawer';\nimport Sidebar from '../../Layout/Sidebar';\nimport Appbar from '../../Layout/Appbar';\nimport MenuList from '../../Layout/MenuList';\nimport { Container, Row, Col } from 'reactstrap';\nimport Add from \"@material-ui/icons/Add\";\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\n\nvar axios = require('axios');\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      width: '100%',\n      maxWidth: '1000px',\n      backgroundColor: theme.palette.background.paper\n    },\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    textField: {\n      marginLeft: theme.spacing.unit,\n      marginRight: theme.spacing.unit\n    },\n    dense: {\n      marginTop: 16\n    },\n    menu: {\n      width: 200\n    }\n  };\n};\n\nvar Quiz =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Quiz, _Component);\n\n  function Quiz(props) {\n    var _this;\n\n    _classCallCheck(this, Quiz);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Quiz).call(this, props));\n\n    _this.componentDidMount = function () {\n      axios.defaults.withCredentials = true;\n      axios.get('/coursedetails', {\n        params: {\n          id: localStorage.getItem(\"courseid\")\n        }\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this.setState({\n            name: res.data.name,\n            term: res.data.term,\n            nickname: res.data.nickname,\n            dept: res.data.dept\n          });\n        }\n      });\n    };\n\n    _this.toggleComponent = function (event) {\n      _this.setState(function (state) {\n        return {\n          show: !state.show\n        };\n      });\n\n      event.preventDefault();\n      var courseId = {\n        courseid: localStorage.getItem(\"courseid\")\n      };\n      axios.defaults.withCredentials = true;\n      axios.post('/generateQuiz', courseId).then(function (res) {\n        console.log(res.status);\n\n        if (res.status === 201) {\n          console.log(res.data.insertId);\n\n          _this.setState({\n            quizId: res.data.insertId,\n            createSuccess: 'success'\n          });\n\n          console.log(_this.state.quizId);\n        }\n      });\n    };\n\n    _this.state = {\n      quizDetail: [],\n      show: false,\n      quizId: '',\n      createSuccess: '',\n      role: '',\n      term: '',\n      name: '',\n      nickname: '',\n      dept: ''\n    };\n    return _this;\n  }\n\n  _createClass(Quiz, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var show = this.state.show.show;\n      var success = this.state.createSuccess.success;\n      var redirectVar = null;\n      if (!cookie.load('cookie')) redirectVar = React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }); //if(localStorage.getItem(\"role\")==='Teacher')\n      //{\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, redirectVar, React.createElement(Appbar, {\n        name: this.state.name,\n        dept: this.state.dept,\n        nickname: this.state.nickname,\n        term: this.state.term,\n        tag: \"Quiz\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 0.5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(MiniDrawer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 1.5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(MenuList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"  \", !show && React.createElement(Search, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      })), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \" \", !show && localStorage.getItem(\"role\") === 'Teacher' && React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.toggleComponent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"   \", React.createElement(Add, {\n        style: {\n          fill: '#EFF1F2'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), \"Quiz\"))))), React.createElement(\"div\", {\n        className: \"border mt-5 search-container\",\n        style: {\n          marginLeft: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, this.state.show && this.state.createSuccess && React.createElement(QuizTabs, {\n        courseid: localStorage.getItem(\"courseid\"),\n        quizid: this.state.quizId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), !this.state.show && React.createElement(ShowQuiz, {\n        courseid: localStorage.getItem(\"courseid\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }))))), React.createElement(Grid, {\n        item: true,\n        xs: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Sidebar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      })))); // }\n\n      /*  else{\n          return (\n            <div>\n              <Appbar/> \n              <div className=\"border mt-5 search-container\"> \n              <br/>\n                <div >\n                  <Container>\n                  <Row>\n                  <Col><Search/></Col>\n                  <Col></Col>\n                  <Col></Col>\n                  <Col></Col>\n                  </Row>\n                  </Container>\n                  </div>\n                  <div >\n                   <ShowQuiz courseid = {this.props.courseid} role={this.state.role}/>\n                </div>\n              </div>\n            </div>\n            )     \n        }*/\n    }\n  }]);\n\n  return Quiz;\n}(Component);\n\nQuiz.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Quiz);","map":{"version":3,"sources":["/Users/supriyajain/Desktop/273/canvas/Lab1 - 013767416/canvas/frontend/src/components/CourseDetails/Quiz/Quiz.js"],"names":["React","Component","PropTypes","withStyles","Search","Button","ShowQuiz","QuizTabs","Grid","MiniDrawer","Sidebar","Appbar","MenuList","Container","Row","Col","Add","cookie","Redirect","axios","require","styles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","container","display","flexWrap","textField","marginLeft","spacing","unit","marginRight","dense","marginTop","menu","Quiz","props","componentDidMount","defaults","withCredentials","get","params","id","localStorage","getItem","then","res","status","setState","name","data","term","nickname","dept","toggleComponent","event","state","show","preventDefault","courseId","courseid","post","console","log","insertId","quizId","createSuccess","quizDetail","role","classes","success","redirectVar","load","fill","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Search from '../../Search';\nimport Button from 'react-bootstrap/Button'\nimport ShowQuiz from './ShowQuiz';\nimport QuizTabs from './QuizTabs';\nimport Grid from '@material-ui/core/Grid';\nimport MiniDrawer from '../../Layout/MiniDrawer';\nimport Sidebar from '../../Layout/Sidebar';\nimport Appbar from '../../Layout/Appbar';\nimport MenuList from '../../Layout/MenuList';\nimport { Container, Row, Col } from 'reactstrap';\nimport Add from \"@material-ui/icons/Add\";\nimport cookie from 'react-cookies';\nimport {Redirect} from 'react-router';\nconst axios = require('axios');\nconst styles = theme => ({\n    root: {\n      width: '100%',\n      maxWidth: '1000px',\n      backgroundColor: theme.palette.background.paper,\n    },\n    container: {\n        display: 'flex',\n        flexWrap: 'wrap',\n      },\n      textField: {\n        marginLeft: theme.spacing.unit,\n        marginRight: theme.spacing.unit,\n      },\n      dense: {\n        marginTop: 16,\n      },\n      menu: {\n        width: 200,\n      },\n  });\n\nclass Quiz extends Component \n{\n  constructor(props)\n  {\n      super(props);\n      this.state = {\n        quizDetail : [],\n        show: false,\n        quizId :'',\n        createSuccess:'',\n        role:'',\n        term:'',\n        name:'',\n        nickname:'',\n        dept:''\n      }\n  }\n  componentDidMount = () => {\n    axios.defaults.withCredentials = true;\n    axios.get('/coursedetails', {params : {id :localStorage.getItem(\"courseid\")}}  ).then(\n      res => {\n        if(res.status ===200)\n        {\n            this.setState(\n              {\n                name:res.data.name,\n                term:res.data.term,\n                nickname:res.data.nickname,\n                dept:res.data.dept\n              });     \n        }    \n      }\n    )\n  }\n  toggleComponent = (event) => \n  {\n    this.setState(state => ({\n      show: !state.show\n    }));\n    event.preventDefault();\n    const courseId ={\n      courseid : localStorage.getItem(\"courseid\")\n    }\n    \n    axios.defaults.withCredentials = true;\n    axios.post('/generateQuiz', courseId).\n      then(res=>{\n        console.log(res.status);\n        if(res.status === 201)\n        {\n            console.log(res.data.insertId)\n            this.setState ( { quizId: res.data.insertId, createSuccess:'success',});\n            console.log(this.state.quizId)\n        }\n      });\n  };\n  render() {\n    const { classes } = this.props;\n    const { show } = this.state.show;\n    const { success } = this.state.createSuccess;\n    let redirectVar = null;\n    if(!cookie.load('cookie'))\n        redirectVar = <Redirect to= \"/login\"/>\n    //if(localStorage.getItem(\"role\")==='Teacher')\n    //{\n      return (\n          <div>{redirectVar}\n            <Appbar name={this.state.name}  dept={this.state.dept}  nickname={this.state.nickname}  term={this.state.term}\n            tag=\"Quiz\" />\n            <Grid container>   \n              <Grid item xs={0.5}>\n                <MiniDrawer/>\n              </Grid>  \n              <Grid item xs={1.5}><br/>\n                <MenuList />\n              </Grid>                  \n            <Grid item xs={8}>\n            <br/>\n            <div >\n           <br/><br/><br/>\n            <div >\n              <Container>\n              <Row>\n              <Col>  {!show &&<Search/>}</Col>\n              <Col></Col>\n              <Col></Col>\n              <Col></Col>\n              <Col> {!show && localStorage.getItem(\"role\")==='Teacher' && <Button variant=\"primary\"  onClick={this.toggleComponent}>   <Add style={{ fill: '#EFF1F2' }}/>Quiz</Button>}</Col>\n              </Row>\n              </Container>       \n            </div>\n            <div className=\"border mt-5 search-container\"  style= {{marginLeft:20}}> \n              <div >\n                {this.state.show && this.state.createSuccess && <QuizTabs courseid = {localStorage.getItem(\"courseid\")} quizid = {this.state.quizId}/>}\n                {!this.state.show && <ShowQuiz courseid = {localStorage.getItem(\"courseid\")}/>}\n              </div>\n            </div>\n          </div>\n          </Grid>\n           <Grid item xs={1}>\n           <Sidebar/>\n           </Grid>\n         </Grid>\n       </div>\n      );\n   // }\n  /*  else{\n      return (\n        <div>\n          <Appbar/> \n          <div className=\"border mt-5 search-container\"> \n          <br/>\n            <div >\n              <Container>\n              <Row>\n              <Col><Search/></Col>\n              <Col></Col>\n              <Col></Col>\n              <Col></Col>\n              </Row>\n              </Container>\n              </div>\n              <div >\n               <ShowQuiz courseid = {this.props.courseid} role={this.state.role}/>\n            </div>\n          </div>\n        </div>\n        )     \n    }*/\n  }\n}\n\nQuiz.propTypes = {\n    classes: PropTypes.object.isRequired,\n  };\n  \n  export default withStyles(styles)(Quiz);\n\n\n"]},"metadata":{},"sourceType":"module"}